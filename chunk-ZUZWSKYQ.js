import{c as $n,d as Ji,f as Nt,g as ea}from"./chunk-W7YCOLRM.js";import{A as Vn,B as vi,C as Nn,E as Ln,F as bi,G as et,H as Ui,I as Ft,J as Qi,K as Hn,L as yi,M as Bn,N as _e,O as Zi,P as Xi,Q as Vt,R as Pe,S as Ge,T as zn,U as tt,V as Wn,W as Di,a as vn,b as bn,c as yn,d as Dn,e as Cn,f as gi,g as wn,h as fi,i as ue,j as Pt,k as Mn,l as kn,m as Rt,n as Sn,o as xn,p as dt,q as An,r as En,s as Tn,t as In,u as Pn,v as Rn,w as On,x as Fn,y as Ot,z as Je}from"./chunk-MNBXSIO7.js";import{$a as F,$b as Te,A as ye,Aa as Ga,Ac as Q,B as ce,Ba as qi,Bc as qe,Ca as S,Cb as $e,Cc as mn,D as Va,Dc as It,E as zi,Eb as ai,Ec as ui,F as Yi,Fa as k,Fb as Xa,Fc as hn,G as pe,Ga as u,Gb as Ja,Gc as un,H as Ae,Ha as he,Hb as ni,Hc as _i,I as T,Ia as R,Ic as _n,J as Na,Ja as rt,Jc as je,K as o,Ka,Kc as gn,L as La,La as O,Lc as fn,M as Ha,Ma as xt,Na as j,Nb as ri,Oa as G,Ob as en,Oc as Yn,P as Ba,Pa as d,Pb as si,Pc as _t,Q as me,Qa as c,Qb as tn,R as b,Ra as w,S as y,Sa as Zt,Sb as ut,T as re,Ta as I,Tb as ji,U as kt,Ua as ht,V as za,Va as g,W as Fe,Wa as f,Wb as oi,X as mt,Xa as Ce,Xb as an,Y as Wi,Ya as se,Yb as ot,Z as v,Za as Ne,_ as ee,_a as U,_b as $,a as xe,aa as Kt,ab as V,ac as li,b as Mt,ba as A,bc as J,ca as N,cb as At,cc as di,d as z,da as Ya,db as Xt,dc as ci,e as Bi,ea as E,eb as H,ec as nn,f as C,fa as Wa,fb as _,g as pt,ga as Ve,gb as B,gc as Ie,h as Pa,hb as te,hc as rn,i as Ra,ib as st,ja as Ye,jb as Jt,jc as sn,k as at,kb as ei,kc as Gi,la as p,lb as ti,m as de,ma as Ut,mb as Y,mc as pi,n as Oa,na as St,nb as Ua,nc as on,oa as De,ob as Qa,oc as ln,p as Fa,pa as $i,pb as Za,pc as mi,q as X,qa as $a,qb as Le,qc as hi,r as nt,ra as Xe,rb as He,rc as dn,sa as Qt,sb as ii,sc as Ki,ta as qa,tc as cn,u as Ze,ub as K,uc as pn,va as ja,vb as x,vc as oe,wb as We,wc as le,xa as M,xb as Et,ya as Ee,yb as W,yc as lt,z as ne,za as q,zb as ie,zc as Tt}from"./chunk-FWNTJJUW.js";var Ci=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-calendar"]],decls:1,vars:0,template:function(e,t){e&1&&w(0,"router-outlet")},dependencies:[en],encapsulation:2,changeDetection:0})};var Ur=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(t,i){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return r})(),Qr={passive:!0},qn=(()=>{class r{_platform=o(ut);_ngZone=o(ee);_renderer=o(St).createRenderer(null,null);_styleLoader=o(Te);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Ra;this._styleLoader.load(Ur);let t=Ie(e),i=this._monitoredElements.get(t);if(i)return i.subject;let n=new C,s="cdk-text-field-autofilled",l=h=>{h.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(s)?(t.classList.add(s),this._ngZone.run(()=>n.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(s)&&(t.classList.remove(s),this._ngZone.run(()=>n.next({target:h.target,isAutofilled:!1})))},m=this._ngZone.runOutsideAngular(()=>(t.classList.add("cdk-text-field-autofill-monitored"),$(this._renderer,t,"animationstart",l,Qr)));return this._monitoredElements.set(t,{subject:n,unlisten:m}),n}stopMonitoring(e){let t=Ie(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ht=new T("MAT_INPUT_VALUE_ACCESSOR"),Zr=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Xr=new T("MAT_INPUT_CONFIG"),jn=(()=>{class r{_elementRef=o(N);_platform=o(ut);ngControl=o(Pt,{optional:!0,self:!0});_autofillMonitor=o(qn);_ngZone=o(ee);_formField=o(Je,{optional:!0});_renderer=o(De);_uid=o(oe).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=o(Xr,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new C;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(ue.required)??!1}set required(e){this._required=di(e)}_required;get type(){return this._type}set type(e){let t=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&ji().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==t&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=di(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>ji().has(e));constructor(){let e=o(Rt,{optional:!0}),t=o(dt,{optional:!0}),i=o(It),n=o(Ht,{optional:!0,self:!0}),s=this._elementRef.nativeElement,l=s.nodeName.toLowerCase();n?Ya(n.value)?this._signalBasedValueAccessor=n:this._inputValueAccessor=n:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Tt(i,this.ngControl,t,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ie(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let t=this._elementRef.nativeElement;t.type==="number"?(t.type="text",t.setSelectionRange(0,0),t.type="number"):t.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Zr.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let t=this._elementRef.nativeElement,i=t.getAttribute("aria-describedby"),n;if(i){let s=this._formFieldDescribedBy||e;n=e.concat(i.split(" ").filter(l=>l&&!s.includes(l)))}else n=e;this._formFieldDescribedBy=e,n.length?t.setAttribute("aria-describedby",n.join(" ")):t.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let t=e.target;!t.value&&t.selectionStart===0&&t.selectionEnd===0&&(t.setSelectionRange(1,1),t.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(t,i){t&1&&g("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),t&2&&(ht("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),k("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),R("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",x]},exportAs:["matInput"],features:[Y([{provide:Ot,useExisting:r}]),me]})}return r})();var Jr=["mat-calendar-body",""];function es(r,a){return this._trackRow(a)}var Jn=(r,a)=>a.id;function ts(r,a){if(r&1&&(d(0,"tr",0)(1,"td",3),_(2),c()()),r&2){let e=f();p(),he("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),k("colspan",e.numCols),p(),te(" ",e.label," ")}}function is(r,a){if(r&1&&(d(0,"td",3),_(1),c()),r&2){let e=f(2);he("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),k("colspan",e._firstRowOffset),p(),te(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function as(r,a){if(r&1){let e=I();d(0,"td",6)(1,"button",7),g("click",function(i){let n=b(e).$implicit,s=f(2);return y(s._cellClicked(n,i))})("focus",function(i){let n=b(e).$implicit,s=f(2);return y(s._emitActiveDateChange(n,i))}),d(2,"span",8),_(3),c(),w(4,"span",9),c()()}if(r&2){let e=a.$implicit,t=a.$index,i=f().$index,n=f();he("width",n._cellWidth)("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),k("data-mat-row",i)("data-mat-col",t),p(),R("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",n._isActiveCell(i,t))("mat-calendar-body-range-start",n._isRangeStart(e.compareValue))("mat-calendar-body-range-end",n._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",n._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",n._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",n._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",n._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",n._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",n._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",n._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",n._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",n._isInPreview(e.compareValue)),u("ngClass",e.cssClasses)("tabindex",n._isActiveCell(i,t)?0:-1),k("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",n._isSelected(e.compareValue))("aria-current",n.todayValue===e.compareValue?"date":null)("aria-describedby",n._getDescribedby(e.compareValue)),p(),R("mat-calendar-body-selected",n._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",n._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",n.todayValue===e.compareValue),p(),te(" ",e.displayValue," ")}}function ns(r,a){if(r&1&&(d(0,"tr",1),S(1,is,2,6,"td",4),j(2,as,5,48,"td",5,Jn),c()),r&2){let e=a.$implicit,t=a.$index,i=f();p(),O(t===0&&i._firstRowOffset?1:-1),p(),G(e)}}function rs(r,a){if(r&1&&(d(0,"th",2)(1,"span",6),_(2),c(),d(3,"span",3),_(4),c()()),r&2){let e=a.$implicit;p(2),B(e.long),p(2),B(e.narrow)}}var ss=["*"];function os(r,a){}function ls(r,a){if(r&1){let e=I();d(0,"mat-month-view",4),ti("activeDateChange",function(i){b(e);let n=f();return ei(n.activeDate,i)||(n.activeDate=i),y(i)}),g("_userSelection",function(i){b(e);let n=f();return y(n._dateSelected(i))})("dragStarted",function(i){b(e);let n=f();return y(n._dragStarted(i))})("dragEnded",function(i){b(e);let n=f();return y(n._dragEnded(i))}),c()}if(r&2){let e=f();Jt("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function ds(r,a){if(r&1){let e=I();d(0,"mat-year-view",5),ti("activeDateChange",function(i){b(e);let n=f();return ei(n.activeDate,i)||(n.activeDate=i),y(i)}),g("monthSelected",function(i){b(e);let n=f();return y(n._monthSelectedInYearView(i))})("selectedChange",function(i){b(e);let n=f();return y(n._goToDateInView(i,"month"))}),c()}if(r&2){let e=f();Jt("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function cs(r,a){if(r&1){let e=I();d(0,"mat-multi-year-view",6),ti("activeDateChange",function(i){b(e);let n=f();return ei(n.activeDate,i)||(n.activeDate=i),y(i)}),g("yearSelected",function(i){b(e);let n=f();return y(n._yearSelectedInMultiYearView(i))})("selectedChange",function(i){b(e);let n=f();return y(n._goToDateInView(i,"year"))}),c()}if(r&2){let e=f();Jt("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function ps(r,a){}var ms=["button"],hs=[[["","matDatepickerToggleIcon",""]]],us=["[matDatepickerToggleIcon]"];function _s(r,a){r&1&&(re(),d(0,"svg",2),w(1,"path",3),c())}var vt=(()=>{class r{changes=new C;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),gs=0,zt=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=gs++;constructor(a,e,t,i,n={},s=a,l){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=n,this.compareValue=s,this.rawValue=l}},fs={passive:!1,capture:!0},wi={passive:!0,capture:!0},Gn={passive:!0},ft=(()=>{class r{_elementRef=o(N);_ngZone=o(ee);_platform=o(ut);_intl=o(vt);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new v;previewChange=new v;activeDateChange=new v;dragStarted=new v;dragEnded=new v;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=o(Fe);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=o(De),t=o(oe);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),o(Te).load(ui),this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement,n=[$(e,i,"touchmove",this._touchmoveHandler,fs),$(e,i,"mouseenter",this._enterHandler,wi),$(e,i,"focus",this._enterHandler,wi),$(e,i,"mouseleave",this._leaveHandler,wi),$(e,i,"blur",this._leaveHandler,wi),$(e,i,"mousedown",this._mousedownHandler,Gn),$(e,i,"touchstart",this._mousedownHandler,Gn)];this._platform.isBrowser&&n.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=n})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:n}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?n-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/n}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/n}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){Ye(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return aa(e,this.startValue,this.endValue)}_isRangeEnd(e){return na(e,this.startValue,this.endValue)}_isInRange(e){return ra(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return aa(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let n=this.rows[t][i-1];if(!n){let s=this.rows[t-1];n=s&&s[s.length-1]}return n&&!this._isRangeEnd(n.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let n=this.rows[t][i+1];if(!n){let s=this.rows[t+1];n=s&&s[0]}return n&&!this._isRangeStart(n.compareValue)}_isComparisonEnd(e){return na(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return ra(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return aa(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return na(e,this.previewStart,this.previewEnd)}_isInPreview(e){return ra(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=Kn(e),i=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),ia(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=ia(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let i=this._getCellFromElement(t);this.dragEnded.emit({value:i?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=Kn(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=ia(e);if(t){let i=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(i&&n)return this.rows[parseInt(i)][parseInt(n)]}return null}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[me],attrs:Jr,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(S(0,ts,3,6,"tr",0),j(1,ns,4,1,"tr",1,es,!0),d(3,"span",2),_(4),c(),d(5,"span",2),_(6),c(),d(7,"span",2),_(8),c(),d(9,"span",2),_(10),c()),t&2&&(O(i._firstRowOffset<i.labelMinRequiredCells?0:-1),p(),G(i.rows),p(2),u("id",i._startDateLabelId),p(),te(" ",i.startDateAccessibleName,`
`),p(),u("id",i._endDateLabelId),p(),te(" ",i.endDateAccessibleName,`
`),p(),u("id",i._comparisonStartDateLabelId),p(),st(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,`
`),p(),u("id",i._comparisonEndDateLabelId),p(),st(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,`
`))},dependencies:[ai],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return r})();function ta(r){return r?.nodeName==="TD"}function ia(r){let a;return ta(r)?a=r:ta(r.parentNode)?a=r.parentNode:ta(r.parentNode?.parentNode)&&(a=r.parentNode.parentNode),a?.getAttribute("data-mat-row")!=null?a:null}function aa(r,a,e){return e!==null&&a!==e&&r<e&&r===a}function na(r,a,e){return a!==null&&a!==e&&r>=a&&r===e}function ra(r,a,e,t){return t&&a!==null&&e!==null&&a!==e&&r>=a&&r<=e}function Kn(r){let a=r.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}var we=class{start;end;_disableStructuralEquivalency;constructor(a,e){this.start=a,this.end=e}},Yt=(()=>{class r{selection;_adapter;_selectionChanged=new C;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){$a()};static \u0275prov=pe({token:r,factory:r.\u0275fac})}return r})(),vs=(()=>{class r extends Yt{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new r(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||r)(Na(Q))};static \u0275prov=pe({token:r,factory:r.\u0275fac})}return r})();function bs(r,a){return r||new vs(a)}var er={provide:Yt,deps:[[new La,new Ha,Yt],Q],useFactory:bs};var tr=new T("MAT_DATE_RANGE_SELECTION_STRATEGY");var sa=7,ys=0,Un=(()=>{class r{_changeDetectorRef=o(K);_dateFormats=o(qe,{optional:!0});_dateAdapter=o(Q,{optional:!0});_dir=o(le,{optional:!0});_rangeStrategy=o(tr,{optional:!0});_rerenderSubscription=z.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof we?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new v;_userSelection=new v;dragStarted=new v;dragEnded=new v;activeDateChange=new v;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){o(Te).load(li),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ne(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),n,s;this._selected instanceof we?(n=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):n=s=this._getDateInCurrentMonth(this._selected),(n!==t||s!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!J(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(sa+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%sa,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,n=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this.activeDrag&&i){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:t[l],id:ys++}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,n=this._firstWeekOffset;i<e;i++,n++){n==sa&&(this._weeks.push([]),n=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),l=this._shouldEnableDate(s),m=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),h=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new zt(i+1,t[i],m,l,h,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),n=this._dateAdapter.getDate(e);return new Date(t,i,n).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof we?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&U(ft,5),t&2){let n;F(n=V())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[me],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),j(3,rs,5,2,"th",2,Jn),c(),d(5,"tr",3),w(6,"th",4),c()(),d(7,"tbody",5),g("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c()()),t&2&&(p(3),G(i._weekdays),p(4),u("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[ft],encapsulation:2,changeDetection:0})}return r})(),ge=24,oa=4,Qn=(()=>{class r{_changeDetectorRef=o(K);_dateAdapter=o(Q,{optional:!0});_dir=o(le,{optional:!0});_rerenderSubscription=z.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),ir(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof we?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new v;yearSelected=new v;activeDateChange=new v;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ne(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-Bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,n=[];i<ge;i++)n.push(t+i),n.length==oa&&(this._years.push(n.map(s=>this._createCellForYear(s))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),n=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-oa);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,oa);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ge-Bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-ge*10:-ge);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?ge*10:ge);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),n=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new zt(e,i,i,this._shouldEnableYear(e),n)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof we){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&U(ft,5),t&2){let n;F(n=V())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),w(3,"th",2),c()(),d(4,"tbody",3),g("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c()()),t&2&&(p(4),u("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[ft],encapsulation:2,changeDetection:0})}return r})();function ir(r,a,e,t,i){let n=r.getYear(a),s=r.getYear(e),l=ar(r,t,i);return Math.floor((n-l)/ge)===Math.floor((s-l)/ge)}function Bt(r,a,e,t){let i=r.getYear(a);return Ds(i-ar(r,e,t),ge)}function ar(r,a,e){let t=0;return e?t=r.getYear(e)-ge+1:a&&(t=r.getYear(a)),t}function Ds(r,a){return(r%a+a)%a}var Zn=(()=>{class r{_changeDetectorRef=o(K);_dateFormats=o(qe,{optional:!0});_dateAdapter=o(Q,{optional:!0});_dir=o(le,{optional:!0});_rerenderSubscription=z.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof we?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new v;monthSelected=new v;activeDateChange=new v;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ne(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let n=this._getDateFromMonth(t);this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(i,"year"):void 0;return new zt(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let n=i;this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>n}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<n}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof we?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&U(ft,5),t&2){let n;F(n=V())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),w(3,"th",2),c()(),d(4,"tbody",3),g("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c()()),t&2&&(p(4),u("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[ft],encapsulation:2,changeDetection:0})}return r})(),nr=(()=>{class r{_intl=o(vt);calendar=o(la);_dateAdapter=o(Q,{optional:!0});_dateFormats=o(qe,{optional:!0});constructor(){o(Te).load(li);let e=o(K);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-ge)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:ge)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):ir(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-Bt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+ge-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[n,s]}_periodButtonLabelId=o(oe).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ss,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(Ce(),d(0,"div",0)(1,"div",1)(2,"span",2),_(3),c(),d(4,"button",3),g("click",function(){return i.currentPeriodClicked()}),d(5,"span",4),_(6),c(),re(),d(7,"svg",5),w(8,"polygon",6),c()(),kt(),w(9,"div",7),se(10),d(11,"button",8),g("click",function(){return i.previousClicked()}),re(),d(12,"svg",9),w(13,"path",10),c()(),kt(),d(14,"button",11),g("click",function(){return i.nextClicked()}),re(),d(15,"svg",9),w(16,"path",12),c()()()()),t&2&&(p(2),u("id",i._periodButtonLabelId),p(),B(i.periodButtonDescription),p(),k("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),p(2),B(i.periodButtonText),p(),R("mat-calendar-invert",i.calendar.currentView!=="month"),p(4),u("disabled",!i.previousEnabled()),k("aria-label",i.prevButtonLabel),p(3),u("disabled",!i.nextEnabled()),k("aria-label",i.nextButtonLabel))},dependencies:[Pe,Ge],encapsulation:2,changeDetection:0})}return r})(),la=(()=>{class r{_dateAdapter=o(Q,{optional:!0});_dateFormats=o(qe,{optional:!0});_changeDetectorRef=o(K);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof we?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new v;yearSelected=new v;monthSelected=new v;viewChanged=new v(!0);_userSelection=new v;_userDragDrop=new v;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}_currentView;_activeDrag=null;stateChanges=new C;constructor(){this._intlChanges=o(vt).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ui(this.headerComponent||nr),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,n=t||i||e.dateFilter;if(n&&!n.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof we||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(U(Un,5),U(Zn,5),U(Qn,5)),t&2){let n;F(n=V())&&(i.monthView=n.first),F(n=V())&&(i.yearView=n.first),F(n=V())&&(i.multiYearView=n.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Y([er]),me],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(S(0,os,0,0,"ng-template",0),d(1,"div",1),S(2,ls,1,11,"mat-month-view",2)(3,ds,1,6,"mat-year-view",3)(4,cs,1,6,"mat-multi-year-view",3),c()),t&2){let n;u("cdkPortalOutlet",i._calendarHeaderPortal),p(2),O((n=i.currentView)==="month"?2:n==="year"?3:n==="multi-year"?4:-1)}},dependencies:[Qi,cn,Un,Zn,Qn],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})(),rr=new T("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let r=o(_e);return()=>r.scrollStrategies.reposition()}});function Cs(r){return()=>r.scrollStrategies.reposition()}var ws={provide:rr,deps:[_e],useFactory:Cs},sr=(()=>{class r{_elementRef=o(N);_animationsDisabled=o(Ve,{optional:!0})==="NoopAnimations";_changeDetectorRef=o(K);_globalModel=o(Yt);_dateAdapter=o(Q);_ngZone=o(ee);_rangeSelectionStrategy=o(tr,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new C;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(o(Te).load(li),this._closeButtonText=o(vt).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=o(De);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,n=t instanceof we;if(n&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(s,this)}else i&&(n||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&U(la,5),t&2){let n;F(n=V())&&(i._calendar=n.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,i){t&2&&(rt(i.color?"mat-"+i.color:""),R("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"mat-calendar",1),g("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),c(),S(2,ps,0,0,"ng-template",2),d(3,"button",3),g("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),_(4),c()()),t&2){let n;R("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),k("aria-modal",!0)("aria-labelledby",(n=i._dialogLabelId)!==null&&n!==void 0?n:void 0),p(),rt(i.datepicker.panelClass),u("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),p(),u("cdkPortalOutlet",i._actionsPortal),p(),R("cdk-visually-hidden",!i._closeButtonFocused),u("color",i.color||"primary"),p(),B(i._closeButtonText)}},dependencies:[ln,la,Qi,Pe],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return r})(),Xn=(()=>{class r{_overlay=o(_e);_viewContainerRef=o(Xe);_dateAdapter=o(Q,{optional:!0});_dir=o(le,{optional:!0});_model=o(Yt);_scrollStrategy=o(rr);_inputStateChanges=z.EMPTY;_document=o($e);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new v;monthSelected=new v;viewChanged=new v(!0);dateClass;openedStream=new v;closedStream=new v;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=rn(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=o(oe).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new C;_injector=o(Fe);_changeDetectorRef=o(K);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof Bn&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=an(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:n}=this._componentRef;i._animationDone.pipe(Ze(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||n.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new Ui(sr,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new yi({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(i).subscribe(n=>{n&&n.preventDefault(),this.close()}),i.keydownEvents().subscribe(n=>{let s=n.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&n.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||Ye(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",n=this.yPosition==="above"?"bottom":"top",s=n==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:s,overlayX:t,overlayY:n},{originX:t,originY:n,overlayX:t,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:n},{originX:i,originY:n,overlayX:i,overlayY:s}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return X(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(nt(i=>i.keyCode===27&&!J(i)||this.datepickerInput&&J(i,"altKey")&&i.keyCode===38&&t.every(n=>!J(i,n)))))}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",x],disabled:[2,"disabled","disabled",x],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",x],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",x]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[me]})}return r})(),or=(()=>{class r extends Xn{static \u0275fac=(()=>{let e;return function(i){return(e||(e=za(r)))(i||r)}})();static \u0275cmp=M({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Y([er,{provide:Xn,useExisting:r}]),qi],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}return r})(),gt=class{target;targetElement;value;constructor(a,e){this.target=a,this.targetElement=e,this.value=this.target.value}},Ms=(()=>{class r{_elementRef=o(N);_dateAdapter=o(Q,{optional:!0});_dateFormats=o(qe,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new v;dateInput=new v;stateChanges=new C;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=z.EMPTY;_localeSubscription=z.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new gt(this,this._elementRef.nativeElement)),this.dateChange.emit(new gt(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){ks(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];J(e,"altKey")&&e.keyCode===40&&t.every(n=>!J(e,n))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);let n=!this._dateAdapter.sameDate(i,this.value);!i||n?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()),n&&(this._assignValue(i),this.dateInput.emit(new gt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new gt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,inputs:{value:"value",disabled:[2,"disabled","disabled",x]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[me]})}return r})();function ks(r,a){let e=Object.keys(r);for(let t of e){let{previousValue:i,currentValue:n}=r[t];if(a.isDateInstance(i)&&a.isDateInstance(n)){if(!a.sameDate(i,n))return!0}else return!0}return!1}var Ss={provide:gi,useExisting:Yi(()=>Si),multi:!0},xs={provide:fi,useExisting:Yi(()=>Si),multi:!0},Si=(()=>{class r extends Ms{_formField=o(Je,{optional:!0});_closedSubscription=z.EMPTY;_openedSubscription=z.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=E(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=ue.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&g("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),t&2&&(ht("disabled",i.disabled),k("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Y([Ss,xs,{provide:Ht,useExisting:r}]),qi]})}return r})(),As=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["","matDatepickerToggleIcon",""]]})}return r})(),pa=(()=>{class r{_intl=o(vt);_changeDetectorRef=o(K);_stateChanges=z.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=o(new mt("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:at(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:at(),i=this.datepicker?X(this.datepicker.openedStream,this.datepicker.closedStream):at();this._stateChanges.unsubscribe(),this._stateChanges=X(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,n){if(t&1&&Ne(n,As,5),t&2){let s;F(s=V())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(t&1&&U(ms,5),t&2){let n;F(n=V())&&(i._button=n.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&g("click",function(s){return i._open(s)}),t&2&&(k("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),R("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",x],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[me],ngContentSelectors:us,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(Ce(hs),d(0,"button",1,0),S(2,_s,2,0,":svg:svg",2),se(3),c()),t&2&&(u("disabled",i.disabled)("disableRipple",i.disableRipple),k("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex)("aria-expanded",i.datepicker?i.datepicker.opened:null),p(2),O(i._customIcon?-1:2))},dependencies:[Ge],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return r})();var xi=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Ee({type:r});static \u0275inj=Ae({providers:[vt,ws],imports:[zn,Vt,pn,Hn,lt,sr,pa,nr,et]})}return r})();var Is=["trigger"],Ps=["panel"],Rs=[[["mat-select-trigger"]],"*"],Os=["mat-select-trigger","*"];function Fs(r,a){if(r&1&&(d(0,"span",4),_(1),c()),r&2){let e=f();p(),B(e.placeholder)}}function Vs(r,a){r&1&&se(0)}function Ns(r,a){if(r&1&&(d(0,"span",11),_(1),c()),r&2){let e=f(2);p(),B(e.triggerValue)}}function Ls(r,a){if(r&1&&(d(0,"span",5),S(1,Vs,1,0)(2,Ns,2,1,"span",11),c()),r&2){let e=f();p(),O(e.customTrigger?1:2)}}function Hs(r,a){if(r&1){let e=I();d(0,"div",12,1),g("keydown",function(i){b(e);let n=f();return y(n._handleKeydown(i))}),se(2,1),c()}if(r&2){let e=f();Ka("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),R("mat-select-panel-animations-enabled",!e._animationsDisabled),u("ngClass",e.panelClass),k("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Bs=new T("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=o(_e);return()=>r.scrollStrategies.reposition()}});var zs=new T("MAT_SELECT_CONFIG");var Ys=new T("MatSelectTrigger"),ma=class{source;value;constructor(a,e){this.source=a,this.value=e}},lr=(()=>{class r{_viewportRuler=o(bi);_changeDetectorRef=o(K);_elementRef=o(N);_dir=o(le,{optional:!0});_idGenerator=o(oe);_renderer=o(De);_parentFormField=o(Je,{optional:!0});ngControl=o(Pt,{self:!0,optional:!0});_liveAnnouncer=o(dn);_defaultOptions=o(zs,{optional:!0});_animationsDisabled=o(Ve,{optional:!0})==="NoopAnimations";_initialized=new C;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let i=this.panel.nativeElement,n=gn(e,this.options,this.optionGroups),s=t._getHostElement();e===0&&n===1?i.scrollTop=0:i.scrollTop=fn(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ma(this,e)}_scrollStrategyFactory=o(Bs);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new C;_errorStateTracker;stateChanges=new C;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(ue.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Oa(()=>{let e=this.options;return e?e.changes.pipe(ne(e),ye(()=>X(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(ye(()=>this.optionSelectionChanges))});openedChange=new v;_openedStream=this.openedChange.pipe(nt(e=>e),de(()=>{}));_closedStream=this.openedChange.pipe(nt(e=>!e),de(()=>{}));selectionChange=new v;valueChange=new v;constructor(){let e=o(It),t=o(Rt,{optional:!0}),i=o(dt,{optional:!0}),n=o(new mt("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Tt(e,this.ngControl,i,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=n==null?0:parseInt(n)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Nn(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(ce(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ce(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(ne(null),ce(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Ze(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&Gi(this._trackedModal,"aria-owns",t),sn(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Gi(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{t(),clearTimeout(i),this._cleanupDetach=void 0};let e=this.panel.nativeElement,t=this._renderer.listen(e,"animationend",n=>{n.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),i=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,i=t===40||t===38||t===37||t===39,n=t===13||t===32,s=this._keyManager;if(!s.isTyping()&&n&&!J(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(e);let m=this.selected;m&&l!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,i=e.keyCode,n=i===40||i===38,s=t.isTyping();if(n&&e.altKey)e.preventDefault(),this.close();else if(!s&&(i===13||i===32)&&t.activeItem&&!J(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!s&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let l=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(l?m.select():m.deselect())})}else{let l=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==l&&t.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!J(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return(i.value!=null||this.canSelectNullableOptions)&&this._compareWith(i.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Zi?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new pi(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=X(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ce(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),X(...this.options.map(t=>t._stateChanges)).pipe(ce(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let i=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(i=>i.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-select"]],contentQueries:function(t,i,n){if(t&1&&(Ne(n,Ys,5),Ne(n,je,5),Ne(n,_n,5)),t&2){let s;F(s=V())&&(i.customTrigger=s.first),F(s=V())&&(i.options=s),F(s=V())&&(i.optionGroups=s)}},viewQuery:function(t,i){if(t&1&&(U(Is,5),U(Ps,5),U(Xi,5)),t&2){let n;F(n=V())&&(i.trigger=n.first),F(n=V())&&(i.panel=n.first),F(n=V())&&(i._overlayDir=n.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){t&1&&g("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),t&2&&(k("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),R("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",x],disableRipple:[2,"disableRipple","disableRipple",x],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:We(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",x],placeholder:"placeholder",required:[2,"required","required",x],multiple:[2,"multiple","multiple",x],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",x],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",We],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",x]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Y([{provide:Ot,useExisting:r},{provide:_i,useExisting:r}]),me],ngContentSelectors:Os,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,i){if(t&1){let n=I();Ce(Rs),d(0,"div",2,0),g("click",function(){return b(n),y(i.open())}),d(3,"div",3),S(4,Fs,2,1,"span",4)(5,Ls,3,1,"span",5),c(),d(6,"div",6)(7,"div",7),re(),d(8,"svg",8),w(9,"path",9),c()()()(),S(10,Hs,3,10,"ng-template",10),g("backdropClick",function(){return b(n),y(i.close())})("overlayKeydown",function(l){return b(n),y(i._handleOverlayKeydown(l))})}if(t&2){let n=H(1);p(3),k("id",i._valueId),p(),O(i.empty?4:5),p(6),u("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||n)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Zi,Xi,ai],styles:['@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,changeDetection:0})}return r})();var Wt=()=>"id_"+Math.random().toString(36).slice(2,11);var $s=["panelTemplate"],qs=(r,a)=>a.value;function js(r,a){if(r&1){let e=I();d(0,"mat-option",3),g("onSelectionChange",function(i){b(e);let n=f(2);return y(n._selectValue(i.source))}),_(1),c()}if(r&2){let e=a.$implicit;u("value",e.value),p(),B(e.label)}}function Gs(r,a){if(r&1){let e=I();d(0,"div",1),g("animationend",function(i){b(e);let n=f();return y(n._handleAnimationEnd(i))}),j(1,js,2,2,"mat-option",2,qs),c()}if(r&2){let e=f();R("mat-timepicker-panel-animations-enabled",!e._animationsDisabled)("mat-timepicker-panel-exit",!e.isOpen()),u("id",e.panelId),k("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),p(),G(e._timeOptions)}}var Ks=[[["","matTimepickerToggleIcon",""]]],Us=["[matTimepickerToggleIcon]"];function Qs(r,a){r&1&&(re(),d(0,"svg",1),w(1,"path",2),c())}var Zs=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,cr=new T("MAT_TIMEPICKER_CONFIG");function dr(r){let a;if(r===null)return null;if(typeof r=="number")a=r;else{if(r.trim().length===0)return null;let e=r.match(Zs),t=e?parseFloat(e[1]):null,i=e?.[2]?.toLowerCase()||null;if(!e||t===null||isNaN(t))return null;i==="h"||i==="hour"||i==="hours"?a=t*3600:i==="m"||i==="min"||i==="minute"||i==="minutes"?a=t*60:a=t}return a}function Xs(r,a,e,t,i){let n=[],s=r.compareTime(e,t)<1?e:t;for(;r.sameDate(s,e)&&r.compareTime(s,t)<1&&r.isValid(s);)n.push({value:s,label:r.format(s,a.display.timeOptionLabel)}),s=r.addSeconds(s,i);return n}var Js=new T("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{let r=o(_e);return()=>r.scrollStrategies.reposition()}}),ua=(()=>{class r{_overlay=o(_e);_dir=o(le,{optional:!0});_viewContainerRef=o(Xe);_injector=o(Fe);_defaultConfig=o(cr,{optional:!0});_dateAdapter=o(Q,{optional:!0});_dateFormats=o(qe,{optional:!0});_scrollStrategyFactory=o(Js);_animationsDisabled=o(Ve,{optional:!0})==="NoopAnimations";_isOpen=E(!1);_activeDescendant=E(null);_input=E(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=Qt.required("panelTemplate");_timeOptions=[];_options=qa(je);_keyManager=new pi(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=A(dr(this._defaultConfig?.interval||null),{transform:dr});options=A(null);isOpen=this._isOpen.asReadonly();selected=Kt();opened=Kt();closed=Kt();activeDescendant=this._activeDescendant.asReadonly();panelId=o(oe).getId("mat-timepicker-panel-");disableRipple=A(this._defaultConfig?.disableRipple??!1,{transform:x});ariaLabel=A(null,{alias:"aria-label"});ariaLabelledby=A(null,{alias:"aria-labelledby"});disabled=W(()=>!!this._input()?.disabled());constructor(){o(N).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){let e=this._input();if(!e||(e.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();let t=this._getOverlayRef();t.updateSize({width:e.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new Ft(this._panelTemplate(),this._viewContainerRef),t.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=Ye(()=>{let i=this._options();this._syncSelectedState(e.value(),i,i[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(e){let t=this._input();this._input.set(e)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this._keyManager.setActiveItem(e),this._options().forEach(t=>{t!==e&&t.deselect(!1)}),this.selected.emit({value:e.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(e){e.animationName==="_mat-timepicker-exit"&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;let e=this._overlay.position().flexibleConnectedTo(this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:e,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.keydownEvents().subscribe(t=>{this._handleKeydown(t)}),this._overlayRef.outsidePointerEvents().subscribe(t=>{let i=ot(t),n=this._input()?.getOverlayOrigin().nativeElement;i&&n&&i!==n&&!n.contains(i)&&this.close()}),this._overlayRef}_generateOptions(){let e=this.interval()??1800,t=this.options();if(t!==null)this._timeOptions=t;else{let i=this._input(),n=this._dateAdapter,s=this._dateFormats.display.timeInput,l=i?.min()||n.setTime(n.today(),0,0,0),m=i?.max()||n.setTime(n.today(),23,59,0),h=e+"/"+n.format(l,s)+"/"+n.format(m,s);h!==this._optionsCacheKey&&(this._optionsCacheKey=h,this._timeOptions=Xs(n,this._dateFormats,l,m,e))}}_syncSelectedState(e,t,i){let n=!1;for(let s of t)e&&this._dateAdapter.sameTime(s.value,e)?(s.select(!1),ha(s,"center"),Et(()=>this._keyManager.setActiveItem(s)),n=!0):s.deselect(!1);n||(i?(Et(()=>this._keyManager.setActiveItem(i)),ha(i,"center")):Et(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){let t=e.keyCode;if(t===9)this.close();else if(t===27&&!J(e))e.preventDefault(),this.close();else if(t===13)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{let i=this._keyManager.activeItem;this._keyManager.onKeydown(e);let n=this._keyManager.activeItem;n&&n!==i&&ha(n,"nearest")}}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){ie(()=>{let e=this._input(),t=this._options();this._isOpen()&&e&&this._syncSelectedState(e.value(),t,null)})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-timepicker"]],viewQuery:function(t,i){t&1&&(At(i._panelTemplate,$s,5),At(i._options,je,5)),t&2&&Xt(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[Y([{provide:_i,useExisting:r}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(t,i){t&1&&S(0,Gs,3,7,"ng-template",null,0,ii)},dependencies:[je],styles:["@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return r})();function ha(r,a){r._getHostElement().scrollIntoView({block:a,inline:a})}var pr=(()=>{class r{_elementRef=o(N);_document=o($e);_dateAdapter=o(Q,{optional:!0});_dateFormats=o(qe,{optional:!0});_formField=o(Je,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=E(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=W(()=>{let e=this.timepicker(),t=e.isOpen(),i=e.activeDescendant();return t&&i?i:null});_ariaExpanded=W(()=>this.timepicker().isOpen()+"");_ariaControls=W(()=>{let e=this.timepicker();return e.isOpen()?e.panelId:null});value=ja(null);timepicker=A.required({alias:"matTimepicker"});min=A(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=A(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=W(()=>this.disabledInput()||this._accessorDisabled());disabledInput=A(!1,{transform:x,alias:"disabled"});constructor(){let e=o(De);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=e.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(e){let t=this._dateAdapter.deserialize(e);this.value.set(this._dateAdapter.getValidDateOrNull(t))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(e){let t=this.value(),i=this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput),n=!this._dateAdapter.sameTime(i,t);!i||n||e&&!t?this._assignUserSelection(i,!0):this._validatorOnChange?.()}_handleBlur(){let e=this.value();e&&this._isValid(e)&&this._formatValue(e),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||this.disabled()||(e.keyCode===27&&!J(e)&&this.value()!==null?(e.preventDefault(),this.value.set(null),this._formatValue(null)):(e.keyCode===40||e.keyCode===38)&&(e.preventDefault(),this.timepicker().open()))}_respondToValueChanges(){ie(()=>{let e=this._dateAdapter.deserialize(this.value()),t=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),t!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){ie(()=>{let e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:t})=>{this._dateAdapter.sameTime(t,this.value())||(this._assignUserSelection(t,!0),this._formatValue(t))})})}_respondToMinMaxChanges(){ie(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,t){if(e==null||!this._isValid(e))this.value.set(e);else{let i=this._dateAdapter,n=i.getValidDateOrNull(this._lastValidDate||this.value()),s=i.getHours(e),l=i.getMinutes(e),m=i.getSeconds(e);this.value.set(n?i.setTime(n,s,l,m):e)}t&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=e==null?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){let t=typeof e=="string"?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return t&&this._dateAdapter.isValid(t)?t:null}_hasFocus(){return this._document.activeElement===this._elementRef.nativeElement}_getValidator(){return ue.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this.min();return!i||!t||this._dateAdapter.compareTime(i,t)<=0?null:{matTimepickerMin:{min:i,actual:t}}},e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this.max();return!i||!t||this._dateAdapter.compareTime(i,t)>=0?null:{matTimepickerMax:{max:i,actual:t}}}])}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(t,i){if(t&1&&g("blur",function(){return i._handleBlur()})("input",function(s){return i._handleInput(s.target.value)})("keydown",function(s){return i._handleKeydown(s)}),t&2){let n;ht("disabled",i.disabled()),k("aria-activedescendant",i._ariaActiveDescendant())("aria-expanded",i._ariaExpanded())("aria-controls",i._ariaControls())("mat-timepicker-id",(n=i.timepicker())==null?null:n.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[Y([{provide:gi,useExisting:r,multi:!0},{provide:fi,useExisting:r,multi:!0},{provide:Ht,useExisting:r}])]})}return r})(),_a=(()=>{class r{_defaultConfig=o(cr,{optional:!0});_defaultTabIndex=(()=>{let e=o(new mt("tabindex"),{optional:!0}),t=Number(e);return isNaN(t)?null:t})();_isDisabled=W(()=>{let e=this.timepicker();return this.disabled()||e.disabled()});timepicker=A.required({alias:"for"});ariaLabel=A(void 0,{alias:"aria-label"});ariaLabelledby=A(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=A(!1,{transform:x,alias:"disabled"});tabIndex=A(this._defaultTabIndex);disableRipple=A(this._defaultConfig?.disableRipple??!1,{transform:x});_open(e){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),e.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(t,i){t&1&&g("click",function(s){return i._open(s)}),t&2&&k("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:Us,decls:3,vars:6,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(t,i){t&1&&(Ce(Ks),d(0,"button",0),se(1,0,null,Qs,2,0),c()),t&2&&(u("disabled",i._isDisabled())("disableRipple",i.disableRipple()),k("aria-label",i.getAriaLabel())("aria-labelledby",i.ariaLabelledby())("aria-expanded",i.timepicker().isOpen())("tabindex",i._isDisabled()?-1:i.tabIndex()))},dependencies:[Ge],encapsulation:2,changeDetection:0})}return r})(),mr=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Ee({type:r});static \u0275inj=Ae({imports:[ua,_a,et]})}return r})();var Ai=class r{activatedRoute=o(ri);router=o(si);setDateParams(a,e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{year:a,month:e},queryParamsHandling:"merge"})}getDateParams(){let a=null;return this.activatedRoute.queryParams.subscribe(e=>{e.year&&e.month&&(a={year:+e.year,month:+e.month})}),a}static \u0275fac=function(e){return new(e||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Be=class r{localStorageService=o(Yn);queryParamsService=o(Ai);appointments$$=new pt([]);currentDate$$=new pt(new Date);slideDirection$$=new pt(null);getAppointments$=this.appointments$$.asObservable();getCurrentDate$=this.currentDate$$.asObservable();getSlideDirection$=this.slideDirection$$.asObservable();getCalendarMonth$=this.getCurrentDate$.pipe(ye(a=>this.appointments$$.pipe(de(()=>this.generateCalendarMonth(a.getFullYear(),a.getMonth())))));constructor(){this.initDateFomQueryParams(),this.initAppointments()}nextMonth(){this.slideDirection$$.next("next");let a=this.currentDate$$.value,e=new Date(a);e.setMonth(e.getMonth()+1),this.currentDate$$.next(e),this.queryParamsService.setDateParams(e.getFullYear(),e.getMonth()+1)}previousMonth(){this.slideDirection$$.next("prev");let a=this.currentDate$$.value,e=new Date(a);e.setMonth(e.getMonth()-1),this.currentDate$$.next(e),this.queryParamsService.setDateParams(e.getFullYear(),e.getMonth()+1)}resetSlideDirection(){this.slideDirection$$.next(null)}goToToday(){let a=new Date;this.queryParamsService.setDateParams(a.getFullYear(),a.getMonth()+1);let e=this.currentDate$$.value.getFullYear(),t=a.getFullYear(),i=this.currentDate$$.value.getMonth(),n=a.getMonth();e>t||e===t&&i>n?this.slideDirection$$.next("prev"):(e<t||e===t&&i<n)&&this.slideDirection$$.next("next"),this.currentDate$$.next(a)}addAppointment(a){let e=[...this.appointments$$.value];e.push(a),this.appointments$$.next(e),this.saveAppointments()}updateAppointment(a){let e=[...this.appointments$$.value],t=e.findIndex(i=>i.id===a.id);t!==-1&&(e[t]=a,this.appointments$$.next(e),this.saveAppointments())}deleteAppointment(a){let e=this.appointments$$.value.filter(t=>t.id!==a);this.appointments$$.next(e),this.saveAppointments()}getAppointmentsByDate(a){return this.appointments$$.value.filter(e=>{let t=new Date(e.date);return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()})}moveAppointment(a,e){let t=[...this.appointments$$.value],i=t.findIndex(n=>n.id===a);if(i!==-1){let n=xe({},t[i]);n.date=e,t[i]=n,this.appointments$$.next(t),this.saveAppointments()}}generateCalendarMonth(a,e){let t=[],i=new Date(a,e,1),n=new Date(i),s=i.getDay();n.setDate(i.getDate()-s);let l=new Date(n);for(let m=0;m<6;m++){let h=[];for(let D=0;D<7;D++){let P=new Date,L=l.getDate()===P.getDate()&&l.getMonth()===P.getMonth()&&l.getFullYear()===P.getFullYear();h.push({id:Wt(),date:new Date(l),appointments:this.getAppointmentsForDate(l),isCurrentMonth:l.getMonth()===e,isToday:L}),l.setDate(l.getDate()+1)}t.push({days:h,id:Wt()})}return{year:a,month:e,weeks:t}}getAppointmentsForDate(a){return this.appointments$$.value.filter(e=>{let t=new Date(e.date);return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()})}initAppointments(){let a=this.localStorageService.getAppointments();this.appointments$$.next(a)}initDateFomQueryParams(){let a=this.queryParamsService.getDateParams();if(a){let e=new Date;e.setFullYear(a.year),e.setMonth(a.month-1),this.currentDate$$.next(e)}}saveAppointments(){this.localStorageService.saveAppointments(this.appointments$$.value)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})};var ct={pink:"#ff4081",blue:"#3f51b5",green:"#4caf50",orange:"#ff9800",purple:"#9c27b0"};function ve(r,a){let e=!a?.manualCleanup;e&&!a?.injector&&Ba(ve);let t=e?a?.injector?.get(Wi)??o(Wi):null,i=to(a?.equal),n;a?.requireSync?n=E({kind:0},{equal:i}):n=E({kind:1,value:a?.initialValue},{equal:i});let s=r.subscribe({next:l=>n.set({kind:1,value:l}),error:l=>{if(a?.rejectErrors)throw l;n.set({kind:2,error:l})}});if(a?.requireSync&&n().kind===0)throw new zi(601,!1);return t?.onDestroy(s.unsubscribe.bind(s)),W(()=>{let l=n();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new zi(601,!1)}},{equal:a?.equal})}function to(r=Object.is){return(a,e)=>a.kind===1&&e.kind===1&&r(a.value,e.value)}var io=(r,a)=>a.name;function ao(r,a){r&1&&(d(0,"mat-error"),_(1,"Title is required"),c())}function no(r,a){r&1&&(d(0,"mat-error"),_(1,"Date is required"),c())}function ro(r,a){r&1&&(d(0,"mat-error"),_(1,"Start time is required"),c())}function so(r,a){r&1&&(d(0,"mat-error"),_(1,"End time is required"),c())}function oo(r,a){r&1&&(d(0,"mat-error"),_(1,"End time must be after start time"),c())}function lo(r,a){if(r&1&&(d(0,"mat-option",16),_(1),c()),r&2){let e=a.$implicit;u("value",e.value),p(),B(e.name)}}function co(r,a){if(r&1){let e=I();d(0,"button",21),g("click",function(){b(e);let i=f();return y(i.onDelete())}),_(1,"Delete"),c()}}var it=class r{fb=o(Tn);calendarService=o(Be);_adapter=o(Q);settings=ve(o(_t).getSettings$);appointment=A(null);selectedDate=A(null);isEditAppointmentMode=A.required();menuTrigger=A(null);appointmentForm;colorsOptions=[{name:"Pink",value:ct.pink},{name:"Blue",value:ct.blue},{name:"Green",value:ct.green},{name:"Orange",value:ct.orange},{name:"Purple",value:ct.purple}];constructor(){ie(()=>{this.isEditAppointmentMode()&&this.appointment()?this.loadAppointmentData():this.setSelectedDate()}),ie(()=>{this.settings()?.regionFormat==="american"?this._adapter.setLocale("en-US"):this._adapter.setLocale("en-GB")})}ngOnInit(){this.initForm()}onSubmit(){if(this.appointmentForm.valid){let a=this.getFormData();this.isEditAppointmentMode()?this.updateAppointment(a):this.saveAppointment(a),this.resetForm()}}onCancel(){this.closeMenu()}onDelete(){this.appointment()&&this.calendarService.deleteAppointment(this.appointment().id),this.closeMenu()}initForm(){let a=this.getDefaultTimes();this.appointmentForm=this.fb.nonNullable.group({title:["",ue.required],description:new Sn(""),date:[new Date,ue.required],startTime:[a.startTime,ue.required],endTime:[a.endTime,ue.required],color:[ct.blue]},{validators:this.timeRangeValidator})}getDefaultTimes(){let a=new Date,e=new Date(a);e.setHours(9,0,0);let t=new Date(a);return t.setHours(10,0,0),{startTime:e,endTime:t}}setSelectedDate(){this.selectedDate()&&this.appointmentForm.patchValue({date:this.selectedDate()})}loadAppointmentData(){let a=this.appointment(),e=new Date(a.date),t=this.parseTimeStringToDate(a.startTime,e),i=this.parseTimeStringToDate(a.endTime,e);this.appointmentForm.patchValue({title:a.title,description:a.description||"",date:e,startTime:t,endTime:i,color:a.color||"#3f51b5"})}getFormData(){let a=this.appointmentForm.value,e=this.formatTimeFromDate(a.startTime),t=this.formatTimeFromDate(a.endTime);return{title:a.title,description:a.description,date:a.date,startTime:e,endTime:t,color:a.color}}updateAppointment(a){let e=xe({id:this.appointment().id},a);this.calendarService.updateAppointment(e),this.closeMenu()}saveAppointment(a){let e=xe({id:Wt()},a);this.calendarService.addAppointment(e),this.closeMenu()}resetForm(){let a=this.getDefaultTimes();this.appointmentForm.reset({date:new Date,startTime:a.startTime,endTime:a.endTime,color:"#3f51b5"})}timeRangeValidator=a=>{let e=a,t=e.get("startTime")?.value,i=e.get("endTime")?.value;return!t||!i?null:t.getTime()>=i.getTime()?{timeRange:!0}:null};formatTimeFromDate(a){let e=a.getHours().toString().padStart(2,"0"),t=a.getMinutes().toString().padStart(2,"0");return`${e}:${t}`}parseTimeStringToDate(a,e){let[t,i]=a.split(":").map(Number),n=new Date(e);return n.setHours(t,i,0,0),n}closeMenu(){this.menuTrigger()&&this.menuTrigger().menuOpen&&this.menuTrigger().closeMenu()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-appointment-form"]],inputs:{appointment:[1,"appointment"],selectedDate:[1,"selectedDate"],isEditAppointmentMode:[1,"isEditAppointmentMode"],menuTrigger:[1,"menuTrigger"]},features:[Y([])],decls:57,vars:16,consts:[["datePicker",""],["startTimePicker",""],["endTimePicker",""],[3,"click"],[3,"ngSubmit","formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","title","required",""],["matInput","","formControlName","description","rows","3"],[1,"form-row"],["appearance","fill"],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","startTime","required","",3,"matTimepicker"],["matInput","","formControlName","endTime","required","",3,"matTimepicker"],[1,"common-error"],["formControlName","color"],[3,"value"],[1,"form-actions"],["type","button","mat-button","",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","","color","warn"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(e,t){if(e&1){let i=I();d(0,"mat-card",3),g("click",function(s){return b(i),y(s.stopPropagation())}),d(1,"mat-card-header")(2,"mat-card-title"),_(3),c()(),d(4,"mat-card-content")(5,"form",4),g("ngSubmit",function(){return b(i),y(t.onSubmit())}),d(6,"mat-form-field",5)(7,"mat-label"),_(8,"Title"),c(),w(9,"input",6),S(10,ao,2,0,"mat-error"),c(),d(11,"mat-form-field",5)(12,"mat-label"),_(13,"Description"),c(),w(14,"textarea",7),c(),d(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),_(18,"Date"),c(),w(19,"input",10),d(20,"mat-hint"),_(21,"MM/DD/YYYY"),c(),w(22,"mat-datepicker-toggle",11)(23,"mat-datepicker",null,0),S(25,no,2,0,"mat-error"),c()(),d(26,"div",8)(27,"mat-form-field",9)(28,"mat-label"),_(29,"Start Time"),c(),w(30,"input",12)(31,"mat-timepicker-toggle",11)(32,"mat-timepicker",null,1),S(34,ro,2,0,"mat-error"),c(),d(35,"mat-form-field",9)(36,"mat-label"),_(37,"End Time"),c(),w(38,"input",13)(39,"mat-timepicker-toggle",11)(40,"mat-timepicker",null,2),S(42,so,2,0,"mat-error"),c(),d(43,"div",14),S(44,oo,2,0,"mat-error"),c()(),d(45,"mat-form-field",5)(46,"mat-label"),_(47,"Color"),c(),d(48,"mat-select",15),j(49,lo,2,2,"mat-option",16,io),c()(),d(51,"div",17)(52,"button",18),g("click",function(){return b(i),y(t.onCancel())}),_(53,"Cancel"),c(),d(54,"button",19),_(55),c(),S(56,co,2,0,"button",20),c()()()()}if(e&2){let i,n,s,l,m=H(24),h=H(33),D=H(41);p(3),B(t.isEditAppointmentMode()?"Edit Event":"Add New Event"),p(2),u("formGroup",t.appointmentForm),p(5),O((i=t.appointmentForm.get("title"))!=null&&i.hasError("required")&&((i=t.appointmentForm.get("title"))!=null&&i.touched)?10:-1),p(9),u("matDatepicker",m),p(3),u("for",m),p(3),O((n=t.appointmentForm.get("date"))!=null&&n.hasError("required")&&((n=t.appointmentForm.get("date"))!=null&&n.touched)?25:-1),p(5),u("matTimepicker",h),p(),u("for",h),p(3),O((s=t.appointmentForm.get("startTime"))!=null&&s.hasError("required")&&((s=t.appointmentForm.get("startTime"))!=null&&s.touched)?34:-1),p(4),u("matTimepicker",D),p(),u("for",D),p(3),O((l=t.appointmentForm.get("endTime"))!=null&&l.hasError("required")&&((l=t.appointmentForm.get("endTime"))!=null&&l.touched)?42:-1),p(2),O(t.appointmentForm.hasError("timeRange")?44:-1),p(5),G(t.colorsOptions),p(5),u("disabled",!t.appointmentForm.valid),p(),te(" ",t.isEditAppointmentMode()?"Update":"Add"," "),p(),O(t.isEditAppointmentMode()?56:-1)}},dependencies:[vn,Dn,yn,In,xn,wn,Mn,kn,En,dt,An,Vn,jn,Si,lr,je,Pe,xi,or,pa,vi,Pn,On,Rn,Fn,Cn,bn,mr,ua,pr,_a],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:16px;position:relative}.form-row[_ngcontent-%COMP%]   .common-error[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;text-align:center}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:16px}"]})};function Er(r){let a=r.cloneNode(!0),e=a.querySelectorAll("[id]"),t=r.nodeName.toLowerCase();a.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return t==="canvas"?gr(r,a):(t==="input"||t==="select"||t==="textarea")&&_r(r,a),ur("canvas",r,a,gr),ur("input, textarea, select",r,a,_r),a}function ur(r,a,e,t){let i=a.querySelectorAll(r);if(i.length){let n=e.querySelectorAll(r);for(let s=0;s<i.length;s++)t(i[s],n[s])}}var po=0;function _r(r,a){a.type!=="file"&&(a.value=r.value),a.type==="radio"&&a.name&&(a.name=`mat-clone-${a.name}-${po++}`)}function gr(r,a){let e=a.getContext("2d");if(e)try{e.drawImage(r,0,0)}catch{}}function Ma(r){let a=r.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}}function ba(r,a,e){let{top:t,bottom:i,left:n,right:s}=r;return e>=t&&e<=i&&a>=n&&a<=s}function jt(r,a,e){r.top+=a,r.bottom=r.top+r.height,r.left+=e,r.right=r.left+r.width}function fr(r,a,e,t){let{top:i,right:n,bottom:s,left:l,width:m,height:h}=r,D=m*a,P=h*a;return t>i-P&&t<s+P&&e>l-D&&e<n+D}var Ei=class{_document;positions=new Map;constructor(a){this._document=a}clear(){this.positions.clear()}cache(a){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),a.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ma(e)})})}handleScroll(a){let e=ot(a),t=this.positions.get(e);if(!t)return null;let i=t.scrollPosition,n,s;if(e===this._document){let h=this.getViewportScrollPosition();n=h.top,s=h.left}else n=e.scrollTop,s=e.scrollLeft;let l=i.top-n,m=i.left-s;return this.positions.forEach((h,D)=>{h.clientRect&&e!==D&&e.contains(D)&&jt(h.clientRect,l,m)}),i.top=n,i.left=s,{top:l,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Tr(r,a){let e=r.rootNodes;if(e.length===1&&e[0].nodeType===a.ELEMENT_NODE)return e[0];let t=a.createElement("div");return e.forEach(i=>t.appendChild(i)),t}function ka(r,a,e){for(let t in a)if(a.hasOwnProperty(t)){let i=a[t];i?r.setProperty(t,i,e?.has(t)?"important":""):r.removeProperty(t)}return r}function bt(r,a){let e=a?"":"none";ka(r.style,{"touch-action":a?"":"none","-webkit-user-drag":a?"":"none","-webkit-tap-highlight-color":a?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function vr(r,a,e){ka(r.style,{position:a?"":"fixed",top:a?"":"0",opacity:a?"":"0",left:a?"":"-999em"},e)}function Ti(r,a){return a&&a!="none"?r+" "+a:r}function br(r,a){r.style.width=`${a.width}px`,r.style.height=`${a.height}px`,r.style.transform=Ii(a.left,a.top)}function Ii(r,a){return`translate3d(${Math.round(r)}px, ${Math.round(a)}px, 0)`}function yr(r){let a=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*a}function mo(r){let a=getComputedStyle(r),e=fa(a,"transition-property"),t=e.find(l=>l==="transform"||l==="all");if(!t)return 0;let i=e.indexOf(t),n=fa(a,"transition-duration"),s=fa(a,"transition-delay");return yr(n[i])+yr(s[i])}function fa(r,a){return r.getPropertyValue(a).split(",").map(t=>t.trim())}var ho=new Set(["position"]),ya=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(a,e,t,i,n,s,l,m,h,D){this._document=a,this._rootElement=e,this._direction=t,this._initialDomRect=i,this._previewTemplate=n,this._previewClass=s,this._pickupPositionOnPage=l,this._initialTransform=m,this._zIndex=h,this._renderer=D}attach(a){this._preview=this._createPreview(),a.appendChild(this._preview),Dr(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(a){this._preview.style.transform=a}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(a){this._preview.classList.add(a)}getTransitionDuration(){return mo(this._preview)}addEventListener(a,e){return this._renderer.listen(this._preview,a,e)}_createPreview(){let a=this._previewTemplate,e=this._previewClass,t=a?a.template:null,i;if(t&&a){let n=a.matchSize?this._initialDomRect:null,s=a.viewContainer.createEmbeddedView(t,a.context);s.detectChanges(),i=Tr(s,this._document),this._previewEmbeddedView=s,a.matchSize?br(i,n):i.style.transform=Ii(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Er(this._rootElement),br(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return ka(i.style,{"pointer-events":"none",margin:Dr(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ho),bt(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(n=>i.classList.add(n)):i.classList.add(e)),i}};function Dr(r){return"showPopover"in r}var uo={passive:!0},Cr={passive:!1},_o={passive:!1,capture:!0},go=800,wr=new Set(["position"]),Da=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=E(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new C;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=z.EMPTY;_pointerUpSubscription=z.EMPTY;_scrollSubscription=z.EMPTY;_resizeSubscription=z.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(a){a!==this._disabled&&(this._disabled=a,this._toggleNativeDragInteractions(),this._handles.forEach(e=>bt(e,a)))}_disabled=!1;beforeStarted=new C;started=new C;released=new C;ended=new C;entered=new C;exited=new C;dropped=new C;moved=this._moveEvents;data;constrainPosition;constructor(a,e,t,i,n,s,l){this._config=e,this._document=t,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=s,this._renderer=l,this.withRootElement(a).withParent(e.parentDragRef||null),this._parentPositions=new Ei(t),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(a){this._handles=a.map(t=>Ie(t)),this._handles.forEach(t=>bt(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(a){return this._previewTemplate=a,this}withPlaceholderTemplate(a){return this._placeholderTemplate=a,this}withRootElement(a){let e=Ie(a);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[$(this._renderer,e,"mousedown",this._pointerDown,Cr),$(this._renderer,e,"touchstart",this._pointerDown,uo),$(this._renderer,e,"dragstart",this._nativeDragStart,Cr)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(a){return this._boundaryElement=a?Ie(a):null,this._resizeSubscription.unsubscribe(),a&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(a){return this._parentDragRef=a,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(a){!this._disabledHandles.has(a)&&this._handles.indexOf(a)>-1&&(this._disabledHandles.add(a),bt(a,!0))}enableHandle(a){this._disabledHandles.has(a)&&(this._disabledHandles.delete(a),bt(a,this.disabled))}withDirection(a){return this._direction=a,this}_withDropContainer(a){this._dropContainer=a}getFreeDragPosition(){let a=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:a.x,y:a.y}}setFreeDragPosition(a){return this._activeTransform={x:0,y:0},this._passiveTransform.x=a.x,this._passiveTransform.y=a.y,this._dropContainer||this._applyRootElementTransform(a.x,a.y),this}withPreviewContainer(a){return this._previewContainer=a,this}_sortFromLastPointerPosition(){let a=this._lastKnownPointerPosition;a&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(a),a)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)};_pointerMove=a=>{let e=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let i=Math.abs(e.x-this._pickupPositionOnPage.x),n=Math.abs(e.y-this._pickupPositionOnPage.y);if(i+n>=this._config.dragStartThreshold){let l=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),m=this._dropContainer;if(!l){this._endDragSequence(a);return}(!m||!m.isDragging()&&!m.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,n=this._activeTransform;n.x=t.x-i.x+this._passiveTransform.x,n.y=t.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(n.x,n.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:a,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=a=>{this._endDragSequence(a)};_endDragSequence(a){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:a}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(a),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(a);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:a})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(a){$t(a)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=$(this._renderer,e,"selectstart",fo,_o)}),t){let i=this._rootElement,n=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=new ya(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(n,e)),vr(i,!1,wr),this._document.body.appendChild(n.replaceChild(s,i)),this.started.next({source:this,event:a}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:a}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(a,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),i=$t(e),n=!i&&e.button!==0,s=this._rootElement,l=ot(e),m=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+go>Date.now(),h=i?hi(e):mi(e);if(l&&l.draggable&&e.type==="mousedown"&&e.preventDefault(),t||n||m||h)return;if(this._handles.length){let L=s.style;this._rootElementTapHighlight=L.webkitTapHighlightColor||"",L.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(L=>this._updateOnScroll(L)),this._boundaryElement&&(this._boundaryRect=Ma(this._boundaryElement));let D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,a,e);let P=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:P.x,y:P.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(a){vr(this._rootElement,!0,wr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),i=this._getPointerPositionOnPage(a),n=this._getDragDistance(i),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:n,dropPoint:i,event:a}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:n,dropPoint:i,event:a}),e.drop(this,t,this._initialIndex,this._initialContainer,s,n,i,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:a,y:e},{x:t,y:i}){let n=this._initialContainer._getSiblingContainerFromPosition(this,a,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(a,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,a,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,i),this._dropContainer._sortItem(this,a,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(a,e):this._applyPreviewTransform(a-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let a=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(a.left,a.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let i=l=>{(!l||this._preview&&ot(l)===this._preview.element&&l.propertyName==="transform")&&(s(),t(),clearTimeout(n))},n=setTimeout(i,e*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let a=this._placeholderTemplate,e=a?a.template:null,t;return e?(this._placeholderRef=a.viewContainer.createEmbeddedView(e,a.context),this._placeholderRef.detectChanges(),t=Tr(this._placeholderRef,this._document)):t=Er(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(a,e,t){let i=e===this._rootElement?null:e,n=i?i.getBoundingClientRect():a,s=$t(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition(),m=s.pageX-n.left-l.left,h=s.pageY-n.top-l.top;return{x:n.left-a.left+m,y:n.top-a.top+h}}_getPointerPositionOnPage(a){let e=this._getViewportScrollPosition(),t=$t(a)?a.touches[0]||a.changedTouches[0]||{pageX:0,pageY:0}:a,i=t.pageX-e.left,n=t.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=n,l.matrixTransform(s.inverse())}}return{x:i,y:n}}_getConstrainedPointerPosition(a){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:i}=this.constrainPosition?this.constrainPosition(a,this,this._initialDomRect,this._pickupPositionInElement):a;if(this.lockAxis==="x"||e==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:n,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:m,height:h}=this._getPreviewRect(),D=l.top+s,P=l.bottom-(h-s),L=l.left+n,Oe=l.right-(m-n);t=Mr(t,L,Oe),i=Mr(i,D,P)}return{x:t,y:i}}_updatePointerDirectionDelta(a){let{x:e,y:t}=a,i=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-n.x),l=Math.abs(t-n.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>n.x?1:-1,n.x=e),l>this._config.pointerDirectionChangeThreshold&&(i.y=t>n.y?1:-1,n.y=t),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let a=this._handles.length>0||!this.isDragging();a!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=a,bt(this._rootElement,a))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(a=>a()),this._rootElementCleanups=void 0}_applyRootElementTransform(a,e){let t=1/this.scale,i=Ii(a*t,e*t),n=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=n.transform&&n.transform!="none"?n.transform:""),n.transform=Ti(i,this._initialTransform)}_applyPreviewTransform(a,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,i=Ii(a,e);this._preview.setTransform(Ti(i,t))}_getDragDistance(a){let e=this._pickupPositionOnPage;return e?{x:a.x-e.x,y:a.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:a,y:e}=this._passiveTransform;if(a===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||t.width===0&&t.height===0)return;let n=i.left-t.left,s=t.right-i.right,l=i.top-t.top,m=t.bottom-i.bottom;i.width>t.width?(n>0&&(a+=n),s>0&&(a-=s)):a=0,i.height>t.height?(l>0&&(e+=l),m>0&&(e-=m)):e=0,(a!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:a})}_getDragStartDelay(a){let e=this.dragStartDelay;return typeof e=="number"?e:$t(a)?e.touch:e?e.mouse:0}_updateOnScroll(a){let e=this._parentPositions.handleScroll(a);if(e){let t=ot(a);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&jt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=oi(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(a,e){let t=this._previewContainer||"global";if(t==="parent")return a;if(t==="global"){let i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Ie(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=a=>{if(this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()};_getTargetHandle(a){return this._handles.find(e=>a.target&&(a.target===e||e.contains(a.target)))}};function Mr(r,a,e){return Math.max(a,Math.min(e,r))}function $t(r){return r.type[0]==="t"}function fo(r){r.preventDefault()}function Ir(r,a,e){let t=kr(a,r.length-1),i=kr(e,r.length-1);if(t===i)return;let n=r[t],s=i<t?-1:1;for(let l=t;l!==i;l+=s)r[l]=r[l+s];r[i]=n}function kr(r,a){return Math.max(0,Math.min(a,r))}var Pi=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(a){this._dragDropRegistry=a}_previousSwap={drag:null,delta:0,overlaps:!1};start(a){this.withItems(a)}sort(a,e,t,i){let n=this._itemPositions,s=this._getItemIndexFromPointerPosition(a,e,t,i);if(s===-1&&n.length>0)return null;let l=this.orientation==="horizontal",m=n.findIndex(be=>be.drag===a),h=n[s],D=n[m].clientRect,P=h.clientRect,L=m>s?1:-1,Oe=this._getItemOffsetPx(D,P,L),wt=this._getSiblingOffsetPx(m,n,L),Gr=n.slice();return Ir(n,m,s),n.forEach((be,Kr)=>{if(Gr[Kr]===be)return;let Ea=be.drag===a,Hi=Ea?Oe:wt,Ta=Ea?a.getPlaceholderElement():be.drag.getRootElement();be.offset+=Hi;let Ia=Math.round(be.offset*(1/be.drag.scale));l?(Ta.style.transform=Ti(`translate3d(${Ia}px, 0, 0)`,be.initialTransform),jt(be.clientRect,0,Hi)):(Ta.style.transform=Ti(`translate3d(0, ${Ia}px, 0)`,be.initialTransform),jt(be.clientRect,Hi,0))}),this._previousSwap.overlaps=ba(P,e,t),this._previousSwap.drag=h.drag,this._previousSwap.delta=l?i.x:i.y,{previousIndex:m,currentIndex:s}}enter(a,e,t,i){let n=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i,s=this._activeDraggables,l=s.indexOf(a),m=a.getPlaceholderElement(),h=s[n];if(h===a&&(h=s[n+1]),!h&&(n==null||n===-1||n<s.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(h=s[0]),l>-1&&s.splice(l,1),h&&!this._dragDropRegistry.isDragging(h)){let D=h.getRootElement();D.parentElement.insertBefore(m,D),s.splice(n,0,a)}else this._element.appendChild(m),s.push(a);m.style.transform="",this._cacheItemPositions()}withItems(a){this._activeDraggables=a.slice(),this._cacheItemPositions()}withSortPredicate(a){this._sortPredicate=a}reset(){this._activeDraggables?.forEach(a=>{let e=a.getRootElement();if(e){let t=this._itemPositions.find(i=>i.drag===a)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(a){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===a)}updateOnScroll(a,e){this._itemPositions.forEach(({clientRect:t})=>{jt(t,a,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(a){this._element=a}_cacheItemPositions(){let a=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Ma(t)}}).sort((e,t)=>a?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(a,e,t){let i=this.orientation==="horizontal",n=i?e.left-a.left:e.top-a.top;return t===-1&&(n+=i?e.width-a.width:e.height-a.height),n}_getSiblingOffsetPx(a,e,t){let i=this.orientation==="horizontal",n=e[a].clientRect,s=e[a+t*-1],l=n[i?"width":"height"]*t;if(s){let m=i?"left":"top",h=i?"right":"bottom";t===-1?l-=s.clientRect[m]-n[h]:l+=n[m]-s.clientRect[h]}return l}_shouldEnterAsFirstChild(a,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,i=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let s=t[t.length-1].clientRect;return i?a>=s.right:e>=s.bottom}else{let s=t[0].clientRect;return i?a<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(a,e,t,i){let n=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:l,clientRect:m})=>{if(l===a)return!1;if(i){let h=n?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return n?e>=Math.floor(m.left)&&e<Math.floor(m.right):t>=Math.floor(m.top)&&t<Math.floor(m.bottom)});return s===-1||!this._sortPredicate(s,a)?-1:s}},Ca=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(a,e){this._document=a,this._dragDropRegistry=e}start(a){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let i=e[t];this._relatedNodes.push([i,i.nextSibling])}this.withItems(a)}sort(a,e,t,i){let n=this._getItemIndexFromPointerPosition(a,e,t),s=this._previousSwap;if(n===-1||this._activeItems[n]===a)return null;let l=this._activeItems[n];if(s.drag===l&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let m=this.getItemIndex(a),h=a.getPlaceholderElement(),D=l.getRootElement();n>m?D.after(h):D.before(h),Ir(this._activeItems,m,n);let P=this._getRootNode().elementFromPoint(e,t);return s.deltaX=i.x,s.deltaY=i.y,s.drag=l,s.overlaps=D===P||D.contains(P),{previousIndex:m,currentIndex:n}}enter(a,e,t,i){let n=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i;n===-1&&(n=this._getClosestItemIndexToPointer(a,e,t));let s=this._activeItems[n],l=this._activeItems.indexOf(a);l>-1&&this._activeItems.splice(l,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(n,0,a),s.getRootElement().before(a.getPlaceholderElement())):(this._activeItems.push(a),this._element.appendChild(a.getPlaceholderElement()))}withItems(a){this._activeItems=a.slice()}withSortPredicate(a){this._sortPredicate=a}reset(){let a=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[i,n]=this._relatedNodes[t];i.parentNode===a&&i.nextSibling!==n&&(n===null?a.appendChild(i):n.parentNode===a&&a.insertBefore(i,n))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(a){return this._activeItems.indexOf(a)}updateOnScroll(){this._activeItems.forEach(a=>{this._dragDropRegistry.isDragging(a)&&a._sortFromLastPointerPosition()})}withElementContainer(a){a!==this._element&&(this._element=a,this._rootNode=void 0)}_getItemIndexFromPointerPosition(a,e,t){let i=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),n=i?this._activeItems.findIndex(s=>{let l=s.getRootElement();return i===l||l.contains(i)}):-1;return n===-1||!this._sortPredicate(n,a)?-1:n}_getRootNode(){return this._rootNode||(this._rootNode=oi(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(a,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,n=-1;for(let s=0;s<this._activeItems.length;s++){let l=this._activeItems[s];if(l!==a){let{x:m,y:h}=l.getRootElement().getBoundingClientRect(),D=Math.hypot(e-m,t-h);D<i&&(i=D,n=s)}}return n}},Sr=.05,Pr=.05,Se=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(Se||{}),ae=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(ae||{}),wa=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new C;entered=new C;exited=new C;dropped=new C;sorted=new C;receivingStarted=new C;receivingStopped=new C;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=z.EMPTY;_verticalScrollDirection=Se.NONE;_horizontalScrollDirection=ae.NONE;_scrollNode;_stopScrollTimers=new C;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(a,e,t,i,n){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=n;let s=this.element=Ie(a);this._document=t,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new Ei(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(a,e,t,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(a)),this._sortStrategy.enter(a,e,t,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:a,container:this,currentIndex:this.getItemIndex(a)})}exit(a){this._reset(),this.exited.next({item:a,container:this})}drop(a,e,t,i,n,s,l,m={}){this._reset(),this.dropped.next({item:a,currentIndex:e,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:n,distance:s,dropPoint:l,event:m})}withItems(a){let e=this._draggables;return this._draggables=a,a.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>a.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(a){return this._direction=a,this._sortStrategy instanceof Pi&&(this._sortStrategy.direction=a),this}connectedTo(a){return this._siblings=a.slice(),this}withOrientation(a){if(a==="mixed")this._sortStrategy=new Ca(this._document,this._dragDropRegistry);else{let e=new Pi(this._dragDropRegistry);e.direction=this._direction,e.orientation=a,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(a){let e=this._container;return this._scrollableElements=a.indexOf(e)===-1?[e,...a]:a.slice(),this}withElementContainer(a){if(a===this._container)return this;let e=Ie(this.element),t=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(a);return t>-1&&this._scrollableElements.splice(t,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(a),this._cachedShadowRoot=null,this._scrollableElements.unshift(a),this._container=a,this}getScrollableParents(){return this._scrollableElements}getItemIndex(a){return this._isDragging?this._sortStrategy.getItemIndex(a):this._draggables.indexOf(a)}isReceiving(){return this._activeSiblings.size>0}_sortItem(a,e,t,i){if(this.sortingDisabled||!this._domRect||!fr(this._domRect,Sr,e,t))return;let n=this._sortStrategy.sort(a,e,t,i);n&&this.sorted.next({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:a})}_startScrollingIfNecessary(a,e){if(this.autoScrollDisabled)return;let t,i=Se.NONE,n=ae.NONE;if(this._parentPositions.positions.forEach((s,l)=>{l===this._document||!s.clientRect||t||fr(s.clientRect,Sr,a,e)&&([i,n]=vo(l,s.clientRect,this._direction,a,e),(i||n)&&(t=l))}),!i&&!n){let{width:s,height:l}=this._viewportRuler.getViewportSize(),m={width:s,height:l,top:0,right:s,bottom:l,left:0};i=Rr(m,e),n=Or(m,a),t=window}t&&(i!==this._verticalScrollDirection||n!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=n,this._scrollNode=t,(i||n)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let a=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=a.msScrollSnapType||a.scrollSnapType||"",a.scrollSnapType=a.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let a=this._container.style;a.scrollSnapType=a.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Fa(0,Pa).pipe(ce(this._stopScrollTimers)).subscribe(()=>{let a=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Se.UP?a.scrollBy(0,-e):this._verticalScrollDirection===Se.DOWN&&a.scrollBy(0,e),this._horizontalScrollDirection===ae.LEFT?a.scrollBy(-e,0):this._horizontalScrollDirection===ae.RIGHT&&a.scrollBy(e,0)})};_isOverContainer(a,e){return this._domRect!=null&&ba(this._domRect,a,e)}_getSiblingContainerFromPosition(a,e,t){return this._siblings.find(i=>i._canReceive(a,e,t))}_canReceive(a,e,t){if(!this._domRect||!ba(this._domRect,e,t)||!this.enterPredicate(a,this))return!1;let i=this._getShadowRoot().elementFromPoint(e,t);return i?i===this._container||this._container.contains(i):!1}_startReceiving(a,e){let t=this._activeSiblings;!t.has(a)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(t.add(a),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:a,receiver:this,items:e}))}_stopReceiving(a){this._activeSiblings.delete(a),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:a,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(a=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(a);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let a=oi(this._container);this._cachedShadowRoot=a||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let a=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,a))}};function Rr(r,a){let{top:e,bottom:t,height:i}=r,n=i*Pr;return a>=e-n&&a<=e+n?Se.UP:a>=t-n&&a<=t+n?Se.DOWN:Se.NONE}function Or(r,a){let{left:e,right:t,width:i}=r,n=i*Pr;return a>=e-n&&a<=e+n?ae.LEFT:a>=t-n&&a<=t+n?ae.RIGHT:ae.NONE}function vo(r,a,e,t,i){let n=Rr(a,i),s=Or(a,t),l=Se.NONE,m=ae.NONE;if(n){let h=r.scrollTop;n===Se.UP?h>0&&(l=Se.UP):r.scrollHeight-h>r.clientHeight&&(l=Se.DOWN)}if(s){let h=r.scrollLeft;e==="rtl"?s===ae.RIGHT?h<0&&(m=ae.RIGHT):r.scrollWidth+h>r.clientWidth&&(m=ae.LEFT):s===ae.LEFT?h>0&&(m=ae.LEFT):r.scrollWidth-h>r.clientWidth&&(m=ae.RIGHT)}return[l,m]}var qt={capture:!0},va={passive:!1,capture:!0},bo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return r})(),Fr=(()=>{class r{_ngZone=o(ee);_document=o($e);_styleLoader=o(Te);_renderer=o(St).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=E([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new C;pointerUp=new C;scroll=new C;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=$(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,va)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(bo),this._activeDragInstances.update(i=>[...i,e]),this._activeDragInstances().length===1)){let i=t.type.startsWith("touch"),n=l=>this.pointerUp.next(l),s=[["scroll",l=>this.scroll.next(l),qt],["selectstart",this._preventDefaultWhileDragging,va]];i?s.push(["touchend",n,qt],["touchcancel",n,qt]):s.push(["mouseup",n,qt]),i||s.push(["mousemove",l=>this.pointerMove.next(l),va]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([l,m,h])=>$(this._renderer,this._document,l,m,h))})}}stopDragging(e){this._activeDragInstances.update(t=>{let i=t.indexOf(e);return i>-1?(t.splice(i,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new Bi(i=>this._ngZone.runOutsideAngular(()=>{let n=$(this._renderer,e,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},qt);return()=>{n()}}))),X(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),yo={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Vr=(()=>{class r{_document=o($e);_ngZone=o(ee);_viewportRuler=o(bi);_dragDropRegistry=o(Fr);_renderer=o(St).createRenderer(null,null);constructor(){}createDrag(e,t=yo){return new Da(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new wa(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xr=new T("CDK_DRAG_PARENT");var Do=new T("CdkDragHandle");var Nr=new T("CDK_DRAG_CONFIG"),Lr=new T("CdkDropList"),Hr=(()=>{class r{element=o(N);dropContainer=o(Lr,{optional:!0,skipSelf:!0});_ngZone=o(ee);_viewContainerRef=o(Xe);_dir=o(le,{optional:!0});_changeDetectorRef=o(K);_selfHandle=o(Do,{optional:!0,self:!0});_parentDrag=o(xr,{optional:!0,skipSelf:!0});_dragDropRegistry=o(Fr);_destroyed=new C;_handles=new pt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new v;released=new v;ended=new v;entered=new v;exited=new v;dropped=new v;moved=new Bi(e=>{let t=this._dragRef.moved.pipe(de(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=o(Fe);constructor(){let e=this.dropContainer,t=o(Nr,{optional:!0}),i=o(Vr);this._dragRef=i.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(ce(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Ye(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),i=t.indexOf(e);i>-1&&(t.splice(i,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Ie(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof i=="object"&&i?i:ci(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Ze(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){e.withParent(i._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:l,draggingDisabled:m,rootElementSelector:h,previewContainer:D}=e;this.disabled=m??!1,this.dragStartDelay=i||0,t&&(this.lockAxis=t),n&&(this.constrainPosition=n),s&&(this.previewClass=s),l&&(this.boundaryElement=l),h&&(this.rootElementSelector=h),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.pipe(Va(e=>{let t=e.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),ye(e=>X(...e.map(t=>t._stateChanges.pipe(ne(t))))),ce(this._destroyed)).subscribe(e=>{let t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){t&2&&R("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",x],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",We]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Y([{provide:xr,useExisting:r}]),me]})}return r})(),Ar=new T("CdkDropListGroup");var Br=(()=>{class r{element=o(N);_changeDetectorRef=o(K);_scrollDispatcher=o(Ln);_dir=o(le,{optional:!0});_group=o(Ar,{optional:!0,skipSelf:!0});_destroyed=new C;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=o(oe).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new v;entered=new v;exited=new v;sorted=new v;_unsortedItems=new Set;constructor(){let e=o(Vr),t=o(Nr,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(i,n)=>this.enterPredicate(i.data,n.data),this._dropListRef.sortPredicate=(i,n,s)=>this.sortPredicate(i,n.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=r._dropLists.indexOf(this);e>-1&&r._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ne(this._dir.value),ce(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=nn(this.connectedTo).map(i=>{if(typeof i=="string"){let n=r._dropLists.find(s=>s.id===i);return n}return i});if(this._group&&this._group._items.forEach(i=>{t.indexOf(i)===-1&&t.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(n=>n.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(i)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=ci(this.autoScrollStep,2),e.connectedTo(t.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),X(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:s,listOrientation:l}=e;this.disabled=i??!1,this.sortingDisabled=n??!1,this.autoScrollDisabled=s??!1,this.orientation=l||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){t&2&&(k("id",i.id),R("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",x],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",x],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",x],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Y([{provide:Ar,useValue:void 0},{provide:Lr,useExisting:r}])]})}return r})();var Co=["mat-menu-item",""],wo=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Mo=["mat-icon, [matMenuItemIcon]","*"];function ko(r,a){r&1&&(re(),d(0,"svg",2),w(1,"polygon",3),c())}var So=["*"];function xo(r,a){if(r&1){let e=I();d(0,"div",0),g("click",function(){b(e);let i=f();return y(i.closed.emit("click"))})("animationstart",function(i){b(e);let n=f();return y(n._onAnimationStart(i.animationName))})("animationend",function(i){b(e);let n=f();return y(n._onAnimationDone(i.animationName))})("animationcancel",function(i){b(e);let n=f();return y(n._onAnimationDone(i.animationName))}),d(1,"div",1),se(2),c()()}if(r&2){let e=f();rt(e._classList),R("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),u("id",e.panelId),k("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Aa=new T("MAT_MENU_PANEL"),xa=(()=>{class r{_elementRef=o(N);_document=o($e);_focusMonitor=o(Ki);_parentMenu=o(Aa,{optional:!0});_changeDetectorRef=o(K);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new C;_focused=new C;_highlighted=!1;_triggersSubmenu=!1;constructor(){o(Te).load(ui),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&g("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(k("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),R("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",x],disableRipple:[2,"disableRipple","disableRipple",x]},exportAs:["matMenuItem"],attrs:Co,ngContentSelectors:Mo,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(Ce(wo),se(0),d(1,"span",0),se(2,1),c(),w(3,"div",1),S(4,ko,2,0,":svg:svg",2)),t&2&&(p(3),u("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),p(),O(i._triggersSubmenu?4:-1))},dependencies:[hn],encapsulation:2,changeDetection:0})}return r})();var Ao=new T("MatMenuContent");var Eo=new T("mat-menu-default-options",{providedIn:"root",factory:To});function To(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Sa="_mat-menu-enter",Ri="_mat-menu-exit",ze=(()=>{class r{_elementRef=o(N);_changeDetectorRef=o(K);_injector=o(Fe);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Wa;_classList={};_panelAnimationState="void";_animationDone=new C;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,i=xe({},this._classList);t&&t.length&&t.split(" ").forEach(n=>{i[n]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(n=>{i[n]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new v;close=this.closed;panelId=o(oe).getId("mat-menu-panel-");constructor(){let e=o(Eo);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=o(Ve,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new on(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ne(this._directDescendantItems),ye(e=>X(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),n=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[n]&&!i[n].disabled?t.setActiveItem(n):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(ne(this._directDescendantItems),ye(t=>X(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:J(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Ye(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Mt(xe({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===Ri;(t||e===Sa)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Sa||e===Ri)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Ri),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Sa:Ri)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(ne(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-menu"]],contentQueries:function(t,i,n){if(t&1&&(Ne(n,Ao,5),Ne(n,xa,5),Ne(n,xa,4)),t&2){let s;F(s=V())&&(i.lazyContent=s.first),F(s=V())&&(i._allItems=s),F(s=V())&&(i.items=s)}},viewQuery:function(t,i){if(t&1&&U(Ut,5),t&2){let n;F(n=V())&&(i.templateRef=n.first)}},hostVars:3,hostBindings:function(t,i){t&2&&k("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",x],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:x(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Y([{provide:Aa,useExisting:r}])],ngContentSelectors:So,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(Ce(),S(0,xo,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return r})(),zr=new T("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=o(_e);return()=>r.scrollStrategies.reposition()}});function Io(r){return()=>r.scrollStrategies.reposition()}var Po={provide:zr,deps:[_e],useFactory:Io},Ro={passive:!0};var Gt=new WeakMap,yt=(()=>{class r{_overlay=o(_e);_element=o(N);_viewContainerRef=o(Xe);_menuItemInstance=o(xa,{optional:!0,self:!0});_dir=o(le,{optional:!0});_focusMonitor=o(Ki);_ngZone=o(ee);_scrollStrategy=o(zr);_changeDetectorRef=o(K);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=z.EMPTY;_hoverSubscription=z.EMPTY;_menuCloseSubscription=z.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new v;onMenuOpen=this.menuOpened;menuClosed=new v;onMenuClose=this.menuClosed;constructor(){let e=o(Aa,{optional:!0}),t=o(De);this._parentMaterialMenu=e instanceof ze?e:void 0,this._cleanupTouchstart=$(t,this._element.nativeElement,"touchstart",i=>{hi(i)||(this._openedBy="touch")},Ro)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Gt.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=Gt.get(e);Gt.set(e,this),t&&t!==this&&t.closeMenu();let i=this._createOverlay(e),n=i.getConfig(),s=n.positionStrategy;this._setPosition(e,s),n.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.hasAttached()||(i.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof ze&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(ce(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let t=this._overlayRef,i=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof ze&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(Ze(1)).subscribe(()=>{t.detach(),i.lazyContent?.detach()}),i._setIsOpen(!1)):(t.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&Gt.delete(i),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof ze&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new yi({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let n=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(n,s)})})}_setPosition(e,t){let[i,n]=e.xPosition==="before"?["end","start"]:["start","end"],[s,l]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[m,h]=[s,l],[D,P]=[i,n],L=0;if(this.triggersSubmenu()){if(P=i=e.xPosition==="before"?"start":"end",n=D=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let Oe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Oe?Oe._getHostElement().offsetTop:0}L=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m=s==="top"?"bottom":"top",h=l==="top"?"bottom":"top");t.withPositions([{originX:i,originY:m,overlayX:D,overlayY:s,offsetY:L},{originX:n,originY:m,overlayX:P,overlayY:s,offsetY:L},{originX:i,originY:h,overlayX:D,overlayY:l,offsetY:-L},{originX:n,originY:h,overlayX:P,overlayY:l,offsetY:-L}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:at(),n=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(nt(s=>this._menuOpen&&s!==this._menuItemInstance)):at();return X(e,i,n,t)}_handleMousedown(e){mi(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Ft(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Gt.get(e)===this}static \u0275fac=function(t){return new(t||r)};static \u0275dir=q({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&g("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),t&2&&k("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return r})(),Oi=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Ee({type:r});static \u0275inj=Ae({providers:[Po],imports:[un,lt,Vt,et,lt]})}return r})(),Yr={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},Gp=Yr.fadeInItems,Kp=Yr.transformMenu;var Dt=class r{transform(a,e=!0){if(!a||!e)return a;let[t,i]=a.split(":").map(l=>parseInt(l,10));if(isNaN(t)||isNaN(i))return a;let n="AM",s=t;return t>=12?(n="PM",s=t===12?12:t-12):t===0&&(s=12),`${s}:${i.toString().padStart(2,"0")} ${n}`}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=Ga({name:"timeFormat",type:r,pure:!0})};var Oo=r=>["day",r],Fo=(r,a)=>a.id;function Vo(r,a){if(r&1){let e=I();d(0,"div",10),g("click",function(i){let n=b(e).$implicit,s=f(),l=H(1);return y(s.handleAppointmentClick(n,l,i))}),d(1,"div",11),_(2),Le(3,"timeFormat"),Le(4,"timeFormat"),c(),d(5,"div",12),_(6),c()()}if(r&2){let e=a.$implicit,t=f();he("background-color",e.color),u("cdkDragData",e),p(2),st(" ",He(3,6,e.startTime,t.isAmericanFormat())," - ",He(4,9,e.endTime,t.isAmericanFormat())," "),p(4),te(" ",e.title," ")}}function No(r,a){if(r&1&&w(0,"app-appointment-form",9),r&2){let e=f();u("isEditAppointmentMode",e.isEditMode())("menuTrigger",e.activeFormMenuTrigger())("selectedDate",e.selectedDate())("appointment",e.selectedAppointment())}}var Fi=class r{day=A.required();allDayIds=A.required();dayCellSize=A.required();dayClicked=new v;appointmentClicked=new v;appointmentDropped=new v;isAmericanFormat=ve(o(_t).getSettings$.pipe(de(a=>a?.regionFormat==="american")));dateRoute=W(()=>{let a=this.day().date;return a?`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`:null});isEditMode=E(!1);activeFormMenuTrigger=E(null);selectedDate=E(null);selectedAppointment=E(null);onDrop(a){this.appointmentDropped.emit(a)}handleDayClick(a){this.isEditMode.set(!1),this.activeFormMenuTrigger.set(a),this.selectedDate.set(this.day().date),this.selectedAppointment.set(null)}handleAppointmentClick(a,e,t){t.stopPropagation(),this.isEditMode.set(!0),this.activeFormMenuTrigger.set(e),this.selectedDate.set(null),this.selectedAppointment.set(a),e.openMenu()}handleMenuClose(){this.isEditMode.set(!1),this.activeFormMenuTrigger.set(null),this.selectedDate.set(null),this.selectedAppointment.set(null)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-calendar-day-cell"]],inputs:{day:[1,"day"],allDayIds:[1,"allDayIds"],dayCellSize:[1,"dayCellSize"]},outputs:{dayClicked:"dayClicked",appointmentClicked:"appointmentClicked",appointmentDropped:"appointmentDropped"},decls:14,vars:17,consts:[["menuTrigger","matMenuTrigger"],["dayMenu","matMenu"],["cdkDropList","",1,"calendar-day",3,"cdkDropListDropped","click","id","cdkDropListData","cdkDropListConnectedTo","matMenuTriggerFor"],[1,"day-header"],[1,"day-number"],["matTooltip","View details",1,"day-header__details",3,"routerLink"],[1,"day-content"],["cdkDrag","",1,"appointment",3,"background-color","cdkDragData"],["xPosition","after","yPosition","above",3,"closed"],[3,"isEditAppointmentMode","menuTrigger","selectedDate","appointment"],["cdkDrag","",1,"appointment",3,"click","cdkDragData"],[1,"appointment-time"],[1,"appointment-title"]],template:function(e,t){if(e&1){let i=I();d(0,"div",2,0),g("cdkDropListDropped",function(s){return b(i),y(t.onDrop(s))})("click",function(){b(i);let s=H(1);return y(t.handleDayClick(s))}),d(2,"div",3)(3,"span",4),_(4),c(),d(5,"a",5)(6,"mat-icon"),_(7,"launch"),c()()(),d(8,"div",6),j(9,Vo,7,12,"div",7,Fo),c()(),d(11,"mat-menu",8,1),g("closed",function(){return b(i),y(t.handleMenuClose())}),S(13,No,1,4,"app-appointment-form",9),c()}if(e&2){let i=H(12);he("height",t.dayCellSize().height,"px")("width",t.dayCellSize().width,"px"),R("outside-month",!t.day().isCurrentMonth)("today",t.day().isToday),u("id",t.day().id)("cdkDropListData",t.day().date)("cdkDropListConnectedTo",t.allDayIds())("matMenuTriggerFor",i),p(4),B(t.day().date.getDate()),p(),u("routerLink",Qa(15,Oo,t.dateRoute())),p(4),G(t.day().appointments),p(4),O(t.activeFormMenuTrigger()?13:-1)}},dependencies:[Hr,Br,Oi,ze,yt,it,tn,tt,Dt,Wn],styles:[".calendar-day[_ngcontent-%COMP%]{border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;padding:8px;min-height:100px;display:flex;flex-direction:column;will-change:transform}.calendar-day[_ngcontent-%COMP%]:hover   .day-header__details[_ngcontent-%COMP%]{display:block}.calendar-day.outside-month[_ngcontent-%COMP%]{background-color:var(--secondary-bg);color:#a0a0a0}.calendar-day.today[_ngcontent-%COMP%]{background-color:#e8f5e9}.calendar-day.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.calendar-day[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:8px;position:relative}.calendar-day[_ngcontent-%COMP%]   .day-header__details[_ngcontent-%COMP%]{display:none;color:var(--color-primary-active);position:absolute;top:0;right:0;opacity:.6;transition:.2s}.calendar-day[_ngcontent-%COMP%]   .day-header__details[_ngcontent-%COMP%]:hover{opacity:1}.calendar-day[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%}.calendar-day[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:4px}.calendar-day[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .appointment[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;color:#fff;font-size:12px;cursor:pointer;box-shadow:0 1px 3px #0000001f}.calendar-day[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .appointment[_ngcontent-%COMP%]:hover{opacity:.8}.calendar-day[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .appointment[_ngcontent-%COMP%]   .appointment-time[_ngcontent-%COMP%]{font-weight:700;margin-bottom:2px}.calendar-day[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .appointment[_ngcontent-%COMP%]   .appointment-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var Lo=["*"],Vi=class r{calendarService=o(Be);currentDate=ve(this.calendarService.getCurrentDate$);currentMonth=ve(this.calendarService.getCalendarMonth$);isTodayButtonDisabled=W(()=>!this.currentDate()||!this.currentMonth()?!0:this.isDateInCalendarRange(this.currentMonth()));constructor(){}previousMonth(){this.calendarService.previousMonth()}nextMonth(){this.calendarService.nextMonth()}goToToday(){this.calendarService.goToToday()}isDateInCalendarRange(a){if(a.weeks.length===0||a.weeks[0].days.length===0)return!1;let e=new Date,t=a.weeks[0].days[0].date,i=a.weeks[a.weeks.length-1],n=i.days[i.days.length-1].date;return e.getTime()>=t.getTime()&&e.getTime()<=n.getTime()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-calendar-header"]],ngContentSelectors:Lo,decls:15,vars:5,consts:[[1,"calendar-actions"],["mat-button","",3,"click","disabled"],[1,"month-navigation"],["mat-icon-button","",3,"click"],[1,"current-month"]],template:function(e,t){e&1&&(Ce(),d(0,"app-header-layout")(1,"div",0),se(2),c(),d(3,"button",1),g("click",function(){return t.goToToday()}),_(4,"Today"),c(),d(5,"div",2)(6,"button",3),g("click",function(){return t.previousMonth()}),d(7,"mat-icon"),_(8,"chevron_left"),c()(),d(9,"span",4),_(10),Le(11,"date"),c(),d(12,"button",3),g("click",function(){return t.nextMonth()}),d(13,"mat-icon"),_(14,"chevron_right"),c()()()()),e&2&&(p(3),u("disabled",t.isTodayButtonDisabled()),p(7),te(" ",He(11,2,t.currentDate(),"MMMM yyyy")," "))},dependencies:[Pe,tt,Ge,ni,Di],styles:[".month-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.current-month[_ngcontent-%COMP%]{min-width:150px;text-align:center;font-size:18px}"]})};var Ct=class r{constructor(a,e){this.el=a;this.zone=e;ie(()=>{this.cleanupResizeObserver(),this.disableResizeChecking()||this.setupResizeObserver()})}disableResizeChecking=A(!1);skipFirstValue=A(!1);firstChildResize=A(!1);listenResizeDelay=A(0);listenResize=new v;resizeObserver=null;isFirstValue=!0;observedElement=null;resizeTimeout=null;ngOnDestroy(){this.cleanupResizeObserver(),this.resizeTimeout&&clearTimeout(this.resizeTimeout)}setupResizeObserver(){if(this.observedElement=this.getElementToObserve(),!this.observedElement){console.warn("No element to observe");return}this.resizeObserver=new ResizeObserver(a=>{this.zone.runOutsideAngular(()=>{let e=a[0],t=e.contentRect.width,i=e.contentRect.height;!this.skipFirstValue()||this.skipFirstValue()&&!this.isFirstValue?this.emitResizeWithDelay({width:t,height:i}):this.isFirstValue=!1})}),this.resizeObserver.observe(this.observedElement)}emitResizeWithDelay(a){if(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.isFirstValue){this.isFirstValue=!1,this.zone.run(()=>{this.listenResize.emit(a)});return}this.resizeTimeout=setTimeout(()=>{this.zone.run(()=>{this.listenResize.emit(a)})},this.listenResizeDelay())}cleanupResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.observedElement=null,this.isFirstValue=!0}getElementToObserve(){if(this.firstChildResize()){let a=this.el.nativeElement.firstElementChild;return a||(console.warn("No first child element found"),null)}return this.el.nativeElement}static \u0275fac=function(e){return new(e||r)($i(N),$i(ee))};static \u0275dir=q({type:r,selectors:[["","listenResize",""]],inputs:{disableResizeChecking:[1,"disableResizeChecking"],skipFirstValue:[1,"skipFirstValue"],firstChildResize:[1,"firstChildResize"],listenResizeDelay:[1,"listenResizeDelay"]},outputs:{listenResize:"listenResize"}})};var Ho=["determinateSpinner"];function Bo(r,a){if(r&1&&(re(),d(0,"svg",11),w(1,"circle",12),c()),r&2){let e=f();k("viewBox",e._viewBox()),p(),he("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),k("r",e._circleRadius())}}var zo=new T("mat-progress-spinner-default-options",{providedIn:"root",factory:Yo});function Yo(){return{diameter:$r}}var $r=100,Wo=10,qr=(()=>{class r{_elementRef=o(N);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=o(Ve,{optional:!0}),t=o(zo);this._noopAnimations=e==="NoopAnimations"&&!!t&&!t._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=$r;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Wo)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=M({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(t&1&&U(Ho,5),t&2){let n;F(n=V())&&(i._determinateCircle=n.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,i){t&2&&(k("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),rt("mat-"+i.color),he("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),R("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",We],diameter:[2,"diameter","diameter",We],strokeWidth:[2,"strokeWidth","strokeWidth",We]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(t&1&&(S(0,Bo,2,8,"ng-template",null,0,ii),d(2,"div",2,1),re(),d(4,"svg",3),w(5,"circle",4),c()(),kt(),d(6,"div",5)(7,"div",6)(8,"div",7),Zt(9,8),c(),d(10,"div",9),Zt(11,8),c(),d(12,"div",10),Zt(13,8),c()()()),t&2){let n=H(1);p(4),k("viewBox",i._viewBox()),p(),he("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),k("r",i._circleRadius()),p(4),u("ngTemplateOutlet",n),p(2),u("ngTemplateOutlet",n),p(2),u("ngTemplateOutlet",n)}},dependencies:[Ja],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return r})();var $o=["calendarSectionRef"],qo=()=>[],jr=(r,a)=>a.id;function jo(r,a){if(r&1&&(d(0,"div",7),_(1),c()),r&2){let e=a.$implicit;p(),B(e)}}function Go(r,a){if(r&1){let e=I();d(0,"app-calendar-day-cell",14),g("appointmentDropped",function(i){b(e);let n=f(3);return y(n.onDrop(i))}),c()}if(r&2){let e=a.$implicit,t=f(3);u("day",e)("dayCellSize",t.dayCellSize())("allDayIds",t.allDayIds()||Ua(3,qo))}}function Ko(r,a){if(r&1&&j(0,Go,1,4,"app-calendar-day-cell",13,jr),r&2){let e=a.$implicit;G(e.days)}}function Uo(r,a){if(r&1){let e=I();d(0,"div",9),g("@slideAnimation.done",function(){b(e);let i=f();return y(i.onAnimationDone())}),j(1,Ko,2,0,null,null,jr),c()}if(r&2){let e=f();u("@slideAnimation",e.slideDirection()),p(),G(e.calendarMonth().weeks)}}function Qo(r,a){r&1&&w(0,"mat-spinner")}function Zo(r,a){if(r&1&&w(0,"app-appointment-form",12),r&2){let e=f(),t=H(2);u("menuTrigger",t)("selectedDate",e.selectedDate)("isEditAppointmentMode",!1)}}var Ni=class r{calendarService=o(Be);calendarSectionEl=Qt("calendarSectionRef");slideDirection=ve(this.calendarService.getSlideDirection$);calendarMonth=ve(this.calendarService.getCalendarMonth$);allDayIds=W(()=>this.calendarMonth()?.weeks.flatMap(a=>a.days.flatMap(e=>e.id)));calendarGridSize=E({width:0,height:0});dayCellSize=W(()=>{let a=this.calendarGridSize().height/6;return{width:this.calendarGridSize().width/7,height:a}});daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];selectedDate;wheelEventHandler=null;constructor(){ie(()=>{this.calendarSectionEl()?.nativeElement&&this.addWheelListener()})}ngOnDestroy(){this.removeWheelListener()}handleNewEventClick(){let a=this.calendarMonth()?.weeks[0].days[0].date,e=this.calendarMonth().weeks[this.calendarMonth().weeks.length-1].days[this.calendarMonth().weeks[this.calendarMonth().weeks.length-1].days.length-1].date,t=new Date;a&&e&&(a.getTime()<=t.getTime()&&e.getTime()>=t.getTime()?this.selectedDate=t:this.selectedDate=a)}onDrop(a){if(a.previousContainer===a.container)return;let e=a.item.data,t=a.container.data,i=new Date(e.date);i.setFullYear(t.getFullYear()),i.setMonth(t.getMonth()),i.setDate(t.getDate()),this.calendarService.moveAppointment(e.id,i)}onAnimationDone(){this.calendarService.resetSlideDirection()}addWheelListener(){this.wheelEventHandler=a=>{let t=a.target.closest(".day-content");t&&t.scrollHeight>t.clientHeight||(a.preventDefault(),a.deltaY>0?this.calendarService.nextMonth():this.calendarService.previousMonth())},this.calendarSectionEl().nativeElement.addEventListener("wheel",this.wheelEventHandler,{passive:!1})}removeWheelListener(){this.calendarSectionEl()?.nativeElement&&this.wheelEventHandler&&(this.calendarSectionEl().nativeElement.removeEventListener("wheel",this.wheelEventHandler),this.wheelEventHandler=null)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-calendar-grid"]],viewQuery:function(e,t){e&1&&At(t.calendarSectionEl,$o,5),e&2&&Xt()},features:[Y([])],decls:19,vars:3,consts:[["menuTrigger","matMenuTrigger"],["calendarSectionRef",""],["menu","matMenu"],["mat-raised-button","","color","primary",3,"click","matMenuTriggerFor"],[1,"calendar-container"],[1,"calendar-view"],[1,"calendar-header"],[1,"calendar-header-cell"],[1,"calendar-grid-wrapper",3,"listenResize"],[1,"calendar-grid"],["xPosition","after","yPosition","above"],[1,"appointment-form-container",3,"click"],[3,"menuTrigger","selectedDate","isEditAppointmentMode"],[3,"day","dayCellSize","allDayIds"],[3,"appointmentDropped","day","dayCellSize","allDayIds"]],template:function(e,t){if(e&1){let i=I();d(0,"app-calendar-header")(1,"button",3,0),g("click",function(){return b(i),y(t.handleNewEventClick())}),d(3,"mat-icon"),_(4,"add"),c(),_(5," Add event "),c()(),d(6,"div",4)(7,"div",5)(8,"div",6),j(9,jo,2,1,"div",7,xt),c(),d(11,"div",8,1),g("listenResize",function(s){return b(i),y(t.calendarGridSize.set(s))}),S(13,Uo,3,1,"div",9)(14,Qo,1,0,"mat-spinner"),c()()(),d(15,"mat-menu",10,2)(17,"div",11),g("click",function(s){return b(i),y(s.stopPropagation())}),S(18,Zo,1,3,"app-appointment-form",12),c()()}if(e&2){let i=H(2),n=H(16);p(),u("matMenuTriggerFor",n),p(8),G(t.daysOfWeek),p(4),O(t.dayCellSize().width?13:14),p(5),O(i?18:-1)}},dependencies:[tt,Pe,it,Oi,ze,yt,mn,Vi,Ct,Fi,qr],styles:["[_nghost-%COMP%]{display:block;height:100%}.calendar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 64px);padding:16px}.calendar-container[_ngcontent-%COMP%]   .calendar-actions[_ngcontent-%COMP%]{margin-bottom:16px}.calendar-container[_ngcontent-%COMP%]   .calendar-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden;min-width:768px;min-height:830px;position:relative}.calendar-container[_ngcontent-%COMP%]   .calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);background-color:var(--dark-bg);border-bottom:1px solid #e0e0e0}.calendar-container[_ngcontent-%COMP%]   .calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .calendar-header-cell[_ngcontent-%COMP%]{padding:12px;text-align:center;font-weight:500}.calendar-container[_ngcontent-%COMP%]   .calendar-view[_ngcontent-%COMP%]   .calendar-grid-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.calendar-container[_ngcontent-%COMP%]   .calendar-view[_ngcontent-%COMP%]   .calendar-grid-wrapper[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;flex:1;align-items:center;justify-items:center}"],data:{animation:[$n("slideAnimation",[ea("* => next",[Nt({transform:"translateX(100%)",opacity:0}),Ji("100ms ease-out",Nt({transform:"translateX(0)",opacity:1}))]),ea("* => prev",[Nt({transform:"translateX(-100%)",opacity:0}),Ji("100ms ease-out",Nt({transform:"translateX(0)",opacity:1}))])])]}})};var Xo=(r,a,e,t,i)=>({"top.px":r,"height.px":a,"background-color":e,left:t,width:i}),Jo=(r,a)=>a.id;function el(r,a){if(r&1&&(d(0,"div",10)(1,"span",17),_(2),Le(3,"timeFormat"),c()()),r&2){let e=a.$implicit,t=f();p(2),B(He(3,1,e+":00",t.isAmericanFormat()))}}function tl(r,a){r&1&&w(0,"div",12)}function il(r,a){if(r&1&&(d(0,"div",22),_(1),c()),r&2){let e=f().$implicit;p(),te(" ",e.description," ")}}function al(r,a){if(r&1){let e=I();d(0,"div",18,0),g("click",function(i){let n=b(e).$implicit,s=H(1),l=f();return y(l.handleAppointmentClick(n,s,i))}),d(2,"div",19)(3,"div",20),_(4),c(),d(5,"div",21),_(6),Le(7,"timeFormat"),Le(8,"timeFormat"),c(),S(9,il,2,1,"div",22),c()()}if(r&2){let e=a.$implicit,t=f(),i=H(28);u("matMenuTriggerFor",i)("ngStyle",Za(12,Xo,e.top,e.height,e.color,e.left,e.width)),p(4),B(e.title),p(2),st(" ",He(7,6,e.startTime,t.isAmericanFormat())," - ",He(8,9,e.endTime,t.isAmericanFormat())," "),p(3),O(e.description?9:-1)}}function nl(r,a){if(r&1&&w(0,"app-appointment-form",16),r&2){let e=f();u("isEditAppointmentMode",e.isEditMode())("menuTrigger",e.activeFormMenuTrigger())("selectedDate",e.selectedDate())("appointment",e.selectedAppointment())}}var Li=class r{route=o(ri);router=o(si);calendarService=o(Be);isAmericanFormat=ve(o(_t).getSettings$.pipe(de(a=>a?.regionFormat==="american")));date=E(null);appointments=E([]);displayAppointments=W(()=>this.appointments()?this.generateExtendedAppointments():[]);hours=Array.from({length:24},(a,e)=>e);gridSize=E({width:0,height:0});isEditMode=E(!1);activeFormMenuTrigger=E(null);selectedDate=E(null);selectedAppointment=E(null);hourHeightPx=W(()=>this.gridSize().height/this.hours.length);backBacklink=W(()=>{let a=this.date()?this.date().getMonth()+1:1,e=this.date()?this.date().getFullYear():new Date().getFullYear();return"calendar?month="+a+"&year="+e});constructor(){}ngOnInit(){this.route.paramMap.pipe(de(a=>(this.initSingleDayDate(),this.date())),ye(a=>this.calendarService.getAppointments$.pipe(de(e=>({date:a,appointments:e}))))).subscribe(({date:a,appointments:e})=>{a&&this.setAppointmentsByDate()})}handleAppointmentClick(a,e,t){t.stopPropagation(),this.isEditMode.set(!0),this.activeFormMenuTrigger.set(e),this.selectedDate.set(null),this.selectedAppointment.set(a),e.openMenu()}handleNewEventClick(a){this.isEditMode.set(!1),this.activeFormMenuTrigger.set(a),this.selectedDate.set(this.date()),this.selectedAppointment.set(null)}onPreviousDay(){let a=this.date(),e=new Date(a);e.setDate(e.getDate()-1);let t=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`;this.router.navigate(["calendar","day",t])}onNextDay(){let a=this.date(),e=new Date(a);e.setDate(e.getDate()+1);let t=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`;this.router.navigate(["calendar","day",t])}handleMenuClose(){this.isEditMode.set(!1),this.activeFormMenuTrigger.set(null),this.selectedDate.set(null),this.selectedAppointment.set(null)}setAppointmentsByDate(){let a=this.calendarService.getAppointmentsByDate(this.date());this.appointments.set(a)}initSingleDayDate(){let a=this.route.snapshot.paramMap.get("date")?.split("-");if(a){let e=parseInt(a[0],10),t=parseInt(a[1],10)-1,i=parseInt(a[2],10);this.date.set(new Date(e,t,i))}}generateExtendedAppointments(){return this.appointments().map(a=>Mt(xe({},a),{top:this.getTopPosition(a.startTime),height:this.getHeight(a.startTime,a.endTime),left:this.getHorizontalPosition(a).left,width:this.getHorizontalPosition(a).width}))}getTopPosition(a){let[e,t]=a.split(":").map(Number);return(e*60+t)*(this.hourHeightPx()/60)}getHeight(a,e){let[t,i]=a.split(":").map(Number),[n,s]=e.split(":").map(Number),l=t*60+i;return(n*60+s-l)*(this.hourHeightPx()/60)}getHorizontalPosition(a){let e=this.getOverlappingAppointments(a);if(e.length<=1)return{left:"0%",width:"100%"};let t=e.findIndex(s=>s.id===a.id),i=100/e.length;return{left:`${t*i}%`,width:`${i}%`}}getOverlappingAppointments(a){return this.appointments().filter(e=>{if(e.id===a.id)return!0;let[t,i]=a.startTime.split(":").map(Number),[n,s]=a.endTime.split(":").map(Number),[l,m]=e.startTime.split(":").map(Number),[h,D]=e.endTime.split(":").map(Number),P=t*60+i,L=n*60+s,Oe=l*60+m,wt=h*60+D;return Oe>=P&&Oe<L||wt>P&&wt<=L||Oe<=P&&wt>=L})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=M({type:r,selectors:[["app-single-day"]],decls:30,vars:11,consts:[["menuTrigger","matMenuTrigger"],["menu","matMenu"],[3,"layoutTitle","defaultBackLink"],[1,"days-control"],["mat-icon-button","",3,"click"],[1,"current-date"],["mat-raised-button","","color","primary",3,"click","matMenuTriggerFor"],[1,"calendar-day-view",3,"listenResize","listenResizeDelay"],[1,"time-grid-container"],[1,"time-scale"],[1,"hour-marker"],[1,"grid-lines"],[1,"hour-line"],[1,"appointments-container"],[1,"appointment-block",3,"matMenuTriggerFor","ngStyle"],["xPosition","after","yPosition","above",3,"closed"],[3,"isEditAppointmentMode","menuTrigger","selectedDate","appointment"],[1,"hour-label"],[1,"appointment-block",3,"click","matMenuTriggerFor","ngStyle"],[1,"appointment-content"],[1,"appointment-title"],[1,"appointment-time"],[1,"appointment-description"]],template:function(e,t){if(e&1){let i=I();d(0,"app-header-layout",2)(1,"div",3)(2,"button",4),g("click",function(){return b(i),y(t.onPreviousDay())}),d(3,"mat-icon"),_(4,"chevron_left"),c()(),d(5,"span",5),_(6),Le(7,"date"),c(),d(8,"button",4),g("click",function(){return b(i),y(t.onNextDay())}),d(9,"mat-icon"),_(10,"chevron_right"),c()()(),d(11,"button",6,0),g("click",function(){b(i);let s=H(12);return y(t.handleNewEventClick(s))}),d(13,"mat-icon"),_(14,"add"),c(),_(15," Add event "),c()(),d(16,"div",7),g("listenResize",function(s){return b(i),y(t.gridSize.set(s))}),d(17,"div",8)(18,"div",9),j(19,el,4,4,"div",10,xt),c(),d(21,"div",11),j(22,tl,1,0,"div",12,xt),c(),d(24,"div",13),j(25,al,10,18,"div",14,Jo),c()()(),d(27,"mat-menu",15,1),g("closed",function(){return b(i),y(t.handleMenuClose())}),S(29,nl,1,4,"app-appointment-form",16),c()}if(e&2){let i=H(28);u("layoutTitle",null)("defaultBackLink",t.backBacklink()),p(6),te(" ",He(7,8,t.date(),"MMMM d, y")," "),p(5),u("matMenuTriggerFor",i),p(5),he("--hour-height",t.hourHeightPx(),"px"),u("listenResizeDelay",300),p(3),G(t.hours),p(3),G(t.hours),p(3),G(t.displayAppointments()),p(4),O(t.activeFormMenuTrigger()?29:-1)}},dependencies:[Di,ni,Xa,Ct,it,ze,xi,yt,Pe,tt,Ge,Dt],styles:[".days-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.calendar-day-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 64px);padding:16px}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]{display:flex;flex:1;position:relative;border:1px solid #e0e0e0;border-radius:4px}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .time-scale[_ngcontent-%COMP%]{width:65px;flex-shrink:0;position:relative;border-right:1px solid #e0e0e0;background:var(--dark-bg)}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .time-scale[_ngcontent-%COMP%]   .hour-marker[_ngcontent-%COMP%]{position:relative;height:var(--hour-height);border-bottom:1px solid #e0e0e0}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .time-scale[_ngcontent-%COMP%]   .hour-marker[_ngcontent-%COMP%]:last-child{border-bottom:none}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .time-scale[_ngcontent-%COMP%]   .hour-marker[_ngcontent-%COMP%]   .hour-label[_ngcontent-%COMP%]{position:absolute;top:-15px;right:10px;font-size:12px;color:var(--contrast-color)}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]{position:absolute;inset:0 0 0 50px;z-index:1}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .hour-line[_ngcontent-%COMP%]{height:var(--hour-height);border-bottom:1px solid #e0e0e0}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .grid-lines[_ngcontent-%COMP%]   .hour-line[_ngcontent-%COMP%]:last-child{border-bottom:none}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]{flex:1;position:relative;z-index:2}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]{position:absolute;left:0;right:0;border-radius:4px;padding:8px;color:#fff;overflow:hidden;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:box-shadow .3s ease}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]:hover{box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]   .appointment-content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;gap:2rem}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]   .appointment-content[_ngcontent-%COMP%]   .appointment-title[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]   .appointment-content[_ngcontent-%COMP%]   .appointment-time[_ngcontent-%COMP%]{font-size:12px}.calendar-day-view[_ngcontent-%COMP%]   .time-grid-container[_ngcontent-%COMP%]   .appointments-container[_ngcontent-%COMP%]   .appointment-block[_ngcontent-%COMP%]   .appointment-content[_ngcontent-%COMP%]   .appointment-description[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}"],changeDetection:0})};var Rh=[{path:"",component:Ci,children:[{path:"",loadComponent:()=>Ni},{path:"day/:date",loadComponent:()=>Li}]}];export{Rh as calendarRoutes};
